<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Incrementally Deployable Extensible Delegation for DNS</title>
<meta content="Philip Homburg" name="author">
<meta content="Tim Wicinski" name="author">
<meta content="Jesse van Zutphen" name="author">
<meta content="Willem Toorop" name="author">
<meta content="
       This document proposes a mechanism for extensible delegations in the DNS.
The mechanism realizes delegations with resource record sets placed below a  _deleg  label in the apex of the delegating zone.
This authoritative delegation point can be aliased to other names using CNAME and DNAME.
This document proposes a new DNS resource record type, IDELEG, which is based on the SVCB and inherits extensibility from it. 
       Support in recursive resolvers suffices for the mechanism to be fully functional.
The number of subsequent interactions between the recursive resolver and the authoritative name servers is comparable with those for DNS Query Name Minimisation.
Additionally, but not required, support in the authoritative name servers enables optimized behavior with reduced (simultaneous) queries.
None, mixed or full deployment of the mechanism on authoritative name servers are all fully functional, allowing for the mechanism to be incrementally deployed. 
    " name="description">
<meta content="xml2rfc 3.28.0" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="DNS" name="keyword">
<meta content="Resolver" name="keyword">
<meta content="Delegation" name="keyword">
<meta content="Authoritative" name="keyword">
<meta content="Deployable" name="keyword">
<meta content="Extensible" name="keyword">
<meta content="draft-homburg-deleg-incremental-deleg-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.28.0
    Python 3.12.9
    ConfigArgParse 1.7
    google-i18n-address 3.1.1
    intervaltree 3.1.0
    Jinja2 3.1.5
    lxml 5.3.0
    platformdirs 4.3.6
    pycountry 24.6.1
    PyYAML 6.0.2
    requests 2.32.3
    setuptools 70.3.0
    wcwidth 0.2.13
-->
<link href="draft-homburg-deleg-incremental-deleg.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}
.xref {
  overflow-wrap: normal;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    max-width: 100%;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.refSubseries {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: upper-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code, dt tt, dt code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">incremental-deleg</td>
<td class="right">March 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">Homburg, et al.</td>
<td class="center">Expires 11 September 2025</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">DNS Delegation</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-homburg-deleg-incremental-deleg-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-03-10" class="published">10 March 2025</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2025-09-11">11 September 2025</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">P. Homburg</div>
<div class="org">NLnet Labs</div>
</div>
<div class="author">
      <div class="author-name">T. Wicinski</div>
<div class="org">Cox Communications</div>
</div>
<div class="author">
      <div class="author-name">J. V. Zutphen</div>
<div class="org">University of Amsterdam</div>
</div>
<div class="author">
      <div class="author-name">W. Toorop</div>
<div class="org">NLnet Labs</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Incrementally Deployable Extensible Delegation for DNS</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document proposes a mechanism for extensible delegations in the DNS.
The mechanism realizes delegations with resource record sets placed below a <code>_deleg</code> label in the apex of the delegating zone.
This authoritative delegation point can be aliased to other names using CNAME and DNAME.
This document proposes a new DNS resource record type, IDELEG, which is based on the SVCB and inherits extensibility from it.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">Support in recursive resolvers suffices for the mechanism to be fully functional.
The number of subsequent interactions between the recursive resolver and the authoritative name servers is comparable with those for DNS Query Name Minimisation.
Additionally, but not required, support in the authoritative name servers enables optimized behavior with reduced (simultaneous) queries.
None, mixed or full deployment of the mechanism on authoritative name servers are all fully functional, allowing for the mechanism to be incrementally deployed.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-about-this-document">
<a href="#name-about-this-document" class="section-name selfRef">About This Document</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">
        Status information for this document may be found at <span><a href="https://datatracker.ietf.org/doc/draft-homburg-deleg-incremental-deleg/">https://datatracker.ietf.org/doc/draft-homburg-deleg-incremental-deleg/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">
        Discussion of this document takes place on the
        deleg Working Group mailing list (<span><a href="mailto:dd@ietf.org">mailto:dd@ietf.org</a></span>),
        which is archived at <span><a href="https://mailarchive.ietf.org/arch/browse/dd/">https://mailarchive.ietf.org/arch/browse/dd/</a></span>.
        Subscribe at <span><a href="https://www.ietf.org/mailman/listinfo/dd/">https://www.ietf.org/mailman/listinfo/dd/</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
<p id="section-note.1-4">Source for this draft and an issue tracker can be found at
        <span><a href="https://github.com/NLnetLabs/incremental-deleg">https://github.com/NLnetLabs/incremental-deleg</a></span>.<a href="#section-note.1-4" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 11 September 2025.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="auto internal xref">1.1</a>.  <a href="#name-signaling-capabilities-of-t" class="internal xref">Signaling capabilities of the authoritative name servers</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="auto internal xref">1.2</a>.  <a href="#name-note-to-the-rfc-editor-plea" class="internal xref"><em>Note to the RFC Editor</em>: please remove this subsection before publication.</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.3">
                <p id="section-toc.1-1.1.2.3.1" class="keepWithNext"><a href="#section-1.3" class="auto internal xref">1.3</a>.  <a href="#name-outsourcing-operation-of-th" class="internal xref">Outsourcing operation of the delegation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.4">
                <p id="section-toc.1-1.1.2.4.1"><a href="#section-1.4" class="auto internal xref">1.4</a>.  <a href="#name-dnssec-protection-of-the-de" class="internal xref">DNSSEC protection of the delegation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.5">
                <p id="section-toc.1-1.1.2.5.1"><a href="#section-1.5" class="auto internal xref">1.5</a>.  <a href="#name-maximize-ease-of-deployment" class="internal xref">Maximize ease of deployment</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.6">
                <p id="section-toc.1-1.1.2.6.1"><a href="#section-1.6" class="auto internal xref">1.6</a>.  <a href="#name-terminology" class="internal xref">Terminology</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-the-ideleg-resource-record-" class="internal xref">The IDELEG resource record type</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-delegation-administration" class="internal xref">Delegation administration</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-examples" class="internal xref">Examples</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.1">
                    <p id="section-toc.1-1.3.2.1.2.1.1"><a href="#section-3.1.1" class="auto internal xref">3.1.1</a>.  <a href="#name-one-name-server-within-the-" class="internal xref">One name server within the subzone</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.2">
                    <p id="section-toc.1-1.3.2.1.2.2.1"><a href="#section-3.1.2" class="auto internal xref">3.1.2</a>.  <a href="#name-two-name-servers-within-the" class="internal xref">Two name servers within the subzone</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.3">
                    <p id="section-toc.1-1.3.2.1.2.3.1"><a href="#section-3.1.3" class="auto internal xref">3.1.3</a>.  <a href="#name-outsourced-to-an-operator" class="internal xref">Outsourced to an operator</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.4">
                    <p id="section-toc.1-1.3.2.1.2.4.1"><a href="#section-3.1.4" class="auto internal xref">3.1.4</a>.  <a href="#name-dnssec-signed-name-servers-" class="internal xref">DNSSEC-signed name servers within the subzone</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-minimal-implementation" class="internal xref">Minimal implementation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-recursive-resolver-behavior" class="internal xref">Recursive Resolver behavior</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-_deleg-label-presence" class="internal xref"><code>_deleg</code> label presence</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-optimized-implementation" class="internal xref">Optimized implementation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-authoritative-name-server-s" class="internal xref">Authoritative name server support</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-resolver-behavior-with-auth" class="internal xref">Resolver behavior with authoritative name server support</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-extra-optimized-implementat" class="internal xref">Extra optimized implementation</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-priming-queries" class="internal xref">Priming queries</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-how-does-incremental-deleg-" class="internal xref">How does incremental deleg meet the requirements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-comparison-with-other-deleg" class="internal xref">Comparison with other delegation mechanisms</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="auto internal xref">9.1</a>.  <a href="#name-comparison-with-legacy-dele" class="internal xref">Comparison with legacy delegations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1.2.1">
                    <p id="section-toc.1-1.9.2.1.2.1.1"><a href="#section-9.1.1" class="auto internal xref">9.1.1</a>.  <a href="#name-the-delegation-point" class="internal xref">The delegation point</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1.2.2">
                    <p id="section-toc.1-1.9.2.1.2.2.1"><a href="#section-9.1.2" class="auto internal xref">9.1.2</a>.  <a href="#name-legacy-referrals" class="internal xref">Legacy referrals</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1.2.3">
                    <p id="section-toc.1-1.9.2.1.2.3.1"><a href="#section-9.1.3" class="auto internal xref">9.1.3</a>.  <a href="#name-number-of-queries" class="internal xref">Number of queries</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="auto internal xref">9.2</a>.  <a href="#name-comparison-with-name-dns-qu" class="internal xref">Comparison with Name DNS Query Name Minimisation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3">
                <p id="section-toc.1-1.9.2.3.1"><a href="#section-9.3" class="auto internal xref">9.3</a>.  <a href="#name-comparison-with" class="internal xref">Comparison with I-D.wesplaap-deleg</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-implementation-status" class="internal xref">Implementation Status</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="auto internal xref">11</a>. <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="auto internal xref">12</a>. <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="auto internal xref">12.1</a>.  <a href="#name-ideleg-rr-type" class="internal xref">IDELEG RR type</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-12.2" class="auto internal xref">12.2</a>.  <a href="#name-_deleg-node-name" class="internal xref">_deleg Node Name</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="auto internal xref">13</a>. <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.1">
                <p id="section-toc.1-1.13.2.1.1"><a href="#section-13.1" class="auto internal xref">13.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2">
                <p id="section-toc.1-1.13.2.2.1"><a href="#section-13.2" class="auto internal xref">13.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-acknowledgments" class="internal xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">This document describes a delegation mechanism for the Domain Name System (DNS) <span>[<a href="#STD13" class="cite xref">STD13</a>]</span> that addresses several matters that, at the time of writing, are suboptimally supported or not supported at all.
These matters are elaborated upon in sections <a href="#signaling" class="auto internal xref">1.1</a>, <a href="#outsourcing" class="auto internal xref">1.3</a> and <a href="#dnssec-protection" class="auto internal xref">1.4</a>.
In addition, the mechanism described in this document aspires to be maximally deployable, which is elaborated upon in <a href="#deployability" class="auto internal xref">Section 1.5</a>.<a href="#section-1-1" class="pilcrow">¶</a></p>
<div id="signaling">
<section id="section-1.1">
        <h3 id="name-signaling-capabilities-of-t">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-signaling-capabilities-of-t" class="section-name selfRef">Signaling capabilities of the authoritative name servers</a>
        </h3>
<p id="section-1.1-1">A new IDELEG resource record (RR) type is introduced in this document, which is based on and inherits the wire and presentation format from SVCB <span>[<a href="#RFC9460" class="cite xref">RFC9460</a>]</span>.
All Service Binding Mappings, as well as the capability signalling, that are specified in <span>[<a href="#RFC9461" class="cite xref">RFC9461</a>]</span> are also applicable to IDELEG, with the exception of the limitations on AliasMode records in <span><a href="https://rfc-editor.org/rfc/rfc9460#section-6" class="relref">Section 6</a> of [<a href="#RFC9460" class="cite xref">RFC9460</a>]</span>.
Capability signalling of <span><a href="#RFC7858" class="internal xref">DNS over Transport Layer Protocol</a> [<a href="#RFC7858" class="cite xref">RFC7858</a>]</span> (DoT), <span><a href="#RFC8484" class="internal xref">DNS Queries over HTTPS</a> [<a href="#RFC8484" class="cite xref">RFC8484</a>]</span> and <span><a href="#RFC9250" class="internal xref">DNS over Dedicated QUIC Connections</a> [<a href="#RFC9250" class="cite xref">RFC9250</a>]</span>, on default or alternative ports, can all be used as specified in <span>[<a href="#RFC9461" class="cite xref">RFC9461</a>]</span>.
The IDELEG RR type inherits its extensibility from the SVCB RR type, which is designed to be extensible to support future uses (such as keys for encrypting the TLS ClientHello <span>[<a href="#I-D.ietf-tls-esni" class="cite xref">I-D.ietf-tls-esni</a>]</span>.)<a href="#section-1.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="note-to-the-rfc-editor-please-remove-this-subsection-before-publication">
<section id="section-1.2">
        <h3 id="name-note-to-the-rfc-editor-plea">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-note-to-the-rfc-editor-plea" class="section-name selfRef"><em>Note to the RFC Editor</em>: please remove this subsection before publication.</a>
        </h3>
<p id="section-1.2-1">The name IDELEG is chosen to avoid confusion with <span>[<a href="#I-D.wesplaap-deleg" class="cite xref">I-D.wesplaap-deleg</a>]</span>.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="outsourcing">
<section id="section-1.3">
        <h3 id="name-outsourcing-operation-of-th">
<a href="#section-1.3" class="section-number selfRef">1.3. </a><a href="#name-outsourcing-operation-of-th" class="section-name selfRef">Outsourcing operation of the delegation</a>
        </h3>
<p id="section-1.3-1">Delegation information is stored at an authoritative location in the zone with this mechanism.
Legacy methods to redirect this information to another location, possible under the control of another operator, such as (CNAME <span><a href="https://rfc-editor.org/rfc/rfc1034#section-3.6.2" class="relref">Section 3.6.2</a> of [<a href="#RFC1034" class="cite xref">RFC1034</a>]</span>) and DNAME <span>[<a href="#RFC6672" class="cite xref">RFC6672</a>]</span> remain functional.
One could even outsource all delegation operational practice to another party with a DNAME record on the <code>_deleg</code> label on the apex of the delegating zone.<a href="#section-1.3-1" class="pilcrow">¶</a></p>
<p id="section-1.3-2">Additional to the legacy methods, a delegation may be outsourced to a set of third parties by having RRs in AliasMode.
Unlike SVCB, IDELEG allows for more than a single IDELEG RR in AliasMode in an IDELEG RRset, enabling outsourcing a delegation to multiple different operators.<a href="#section-1.3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="dnssec-protection">
<section id="section-1.4">
        <h3 id="name-dnssec-protection-of-the-de">
<a href="#section-1.4" class="section-number selfRef">1.4. </a><a href="#name-dnssec-protection-of-the-de" class="section-name selfRef">DNSSEC protection of the delegation</a>
        </h3>
<p id="section-1.4-1">With legacy delegations, the NS RRset at the parent side of a delegation as well as glue records for the names in the NS RRset are not authoritative and not DNSSEC signed.
An adversary that is able to spoof a referral response, can alter this information and redirect all traffic for the delegation to a rogue name server undetected.
The adversary can then perceive all queries for the redirected zone (Privacy concern) and alter all unsigned parts of responses (such as further referrals, which is a Security concern).<a href="#section-1.4-1" class="pilcrow">¶</a></p>
<p id="section-1.4-2">DNSSEC protection of delegation information prevents that, and is the only countermeasure that also works against on-path attackers.
At the time of writing, the only way to DNSSEC-validate and verify delegations at all levels in the DNS hierarchy is to revalidate delegations <span>[<a href="#I-D.ietf-dnsop-ns-revalidation" class="cite xref">I-D.ietf-dnsop-ns-revalidation</a>]</span>, which is done after the fact and has other security concerns (<span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-dnsop-ns-revalidation-09#section-7" class="relref">Section 7</a> of [<a href="#I-D.ietf-dnsop-ns-revalidation" class="cite xref">I-D.ietf-dnsop-ns-revalidation</a>]</span>).<a href="#section-1.4-2" class="pilcrow">¶</a></p>
<p id="section-1.4-3">Direct delegation information (provided by IDELEG RRs in ServiceMode) includes the hostnames of the authoritative name servers for the delegation as well as IP addresses for those hostnames.
Since the information is stored authoritatively in the delegating zone, it will be DNSSEC-signed if the zone is signed.
When the delegation is outsourced, then it's protected when the zones providing the aliasing resource records <em>and</em> the zones serving the targets of the aliases are all DNSSEC-signed.<a href="#section-1.4-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="deployability">
<section id="section-1.5">
        <h3 id="name-maximize-ease-of-deployment">
<a href="#section-1.5" class="section-number selfRef">1.5. </a><a href="#name-maximize-ease-of-deployment" class="section-name selfRef">Maximize ease of deployment</a>
        </h3>
<p id="section-1.5-1">Delegation information is stored authoritatively within the delegating zone.
No semantic changes as to what zones are authoritative for what data are needed.
As a consequence, existing DNS software, such as authoritative name servers and DNSSEC signing software, can remain unmodified.
Unmodified authoritative name server software will serve the delegation information when queried for.
Unmodified signers will sign the delegation information in the delegating zone.
Only the recursive resolver needs modification to follow referrals as provided by the delegation information.<a href="#section-1.5-1" class="pilcrow">¶</a></p>
<p id="section-1.5-2">Such a resolver would explicitly query for the delegations administered as specified in <a href="#delegation-administration" class="auto internal xref">Section 3</a>.
The number of round trips from the recursive resolver to the authoritative name server is comparable to what is needed for DNS Query Name Minimisation <span>[<a href="#RFC9156" class="cite xref">RFC9156</a>]</span>.
Additional implementation in the authoritative name server optimizes resolution and reduces the number of simultaneous in parallel queries to that what would be needed for legacy delegations.
None, mixed or full deployment of the mechanism on authoritative name servers are all fully functional, allowing for the mechanism to be incrementally deployed on the authoritative name servers.<a href="#section-1.5-2" class="pilcrow">¶</a></p>
<p id="section-1.5-3">Implementation in the recursive may be less demanding with respect to (among other things) DNSSEC validation because there is no need to make additional exceptions as to what is authoritative at the parent side of a delegation.<a href="#section-1.5-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="terminology">
<section id="section-1.6">
        <h3 id="name-terminology">
<a href="#section-1.6" class="section-number selfRef">1.6. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
        </h3>
<p id="section-1.6-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
"<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-1.6-1" class="pilcrow">¶</a></p>
<p id="section-1.6-2">This document follows terminology as defined in <span>[<a href="#BCP219" class="cite xref">BCP219</a>]</span>.<a href="#section-1.6-2" class="pilcrow">¶</a></p>
<p id="section-1.6-3">Throughout this document we will also use terminology with the meaning as defined below:<a href="#section-1.6-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-1.6-4">
          <dt id="section-1.6-4.1">Incremental deleg:</dt>
          <dd style="margin-left: 1.5em" id="section-1.6-4.2">
            <p id="section-1.6-4.2.1">The delegation mechanism as specified in this document.<a href="#section-1.6-4.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.6-4.3">Incremental delegation:</dt>
          <dd style="margin-left: 1.5em" id="section-1.6-4.4">
            <p id="section-1.6-4.4.1">A delegation as specified in this document<a href="#section-1.6-4.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.6-4.5">Legacy delegations:</dt>
          <dd style="margin-left: 1.5em" id="section-1.6-4.6">
            <p id="section-1.6-4.6.1">The way delegations are done in the DNS traditionally as defined in <span>[<a href="#STD13" class="cite xref">STD13</a>]</span>.<a href="#section-1.6-4.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.6-4.7">Delegating zone:</dt>
          <dd style="margin-left: 1.5em" id="section-1.6-4.8">
            <p id="section-1.6-4.8.1">The zone in which the delegation is administered.
Sometimes also called the "parent zone" of a delegation.<a href="#section-1.6-4.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.6-4.9">Subzone:</dt>
          <dd style="margin-left: 1.5em" id="section-1.6-4.10">
            <p id="section-1.6-4.10.1">The zone that is delegated to from the delegating zone.<a href="#section-1.6-4.10.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.6-4.11">Delegating name:</dt>
          <dd style="margin-left: 1.5em" id="section-1.6-4.12">
            <p id="section-1.6-4.12.1">The name which realizes the delegation.
In legacy delegations, this name is the same as the name of the subzone to which the delegation refers.
Delegations described in this document are provided with a different name than the zone that is delegated to.<a href="#section-1.6-4.12.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.6-4.13">Delegation point:</dt>
          <dd style="margin-left: 1.5em" id="section-1.6-4.14">
            <p id="section-1.6-4.14.1">The location in the delegating zone where the RRs are provided that make up the delegation.
In legacy delegations, this is the parent side of the zone cut and has the same name as the subzone.
With incremental deleg, this is the location given by the delegating name.<a href="#section-1.6-4.14.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.6-4.15">Triggering query:</dt>
          <dd style="margin-left: 1.5em" id="section-1.6-4.16">
            <p id="section-1.6-4.16.1">The query on which resolution a recursive resolver is working.<a href="#section-1.6-4.16.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.6-4.17">Target zone:</dt>
          <dd style="margin-left: 1.5em" id="section-1.6-4.18">
            <p id="section-1.6-4.18.1">The zone for which the authoritative servers, that a resolver contacts while iterating, are authoritative.<a href="#section-1.6-4.18.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="the-deleg-resource-record-type">
<section id="section-2">
      <h2 id="name-the-ideleg-resource-record-">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-the-ideleg-resource-record-" class="section-name selfRef">The IDELEG resource record type</a>
      </h2>
<p id="section-2-1">The IDELEG RR type is a variant of SVCB <span>[<a href="#RFC9460" class="cite xref">RFC9460</a>]</span> for use with resolvers to perform iterative resolution (<span><a href="https://rfc-editor.org/rfc/rfc1034#section-5.3.3" class="relref">Section 5.3.3</a> of [<a href="#RFC1034" class="cite xref">RFC1034</a>]</span>).
The IDELEG type requires registration in the "Resource Record (RR) TYPEs" registry under the "Domain Name System (DNS) Parameters" registry group (see <span><a href="#deleg-rr-type" class="internal xref">IDELEG RR type</a> (<a href="#deleg-rr-type" class="auto internal xref">Section 12.1</a>)</span>).
The protocol-specific mapping specification for iterative resolutions are the same as those for "DNS Servers" <span>[<a href="#RFC9461" class="cite xref">RFC9461</a>]</span>.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2"><span><a href="https://rfc-editor.org/rfc/rfc9460#section-2.4.2" class="relref">Section 2.4.2</a> of [<a href="#RFC9460" class="cite xref">RFC9460</a>]</span> states that SVCB RRsets <span class="bcp14">SHOULD</span> only have a single RR in AliasMode, and that if multiple AliasMode RRs are present, clients or recursive resolvers <span class="bcp14">SHOULD</span> pick one at random.
Different from SVCB (<span><a href="https://rfc-editor.org/rfc/rfc9460#section-2.4.2" class="relref">Section 2.4.2</a> of [<a href="#RFC9460" class="cite xref">RFC9460</a>]</span>), IDELEG allows for multiple AliasMode RRs to be present in a single IDELEG RRset.
Note however that the target of an IDELEG RR in AliasMode is an SVCB RRset for the "dns" service type adhering fully to the Service Binding Mapping for DNS Servers as specified in <span>[<a href="#RFC9461" class="cite xref">RFC9461</a>]</span>.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3"><span><a href="https://rfc-editor.org/rfc/rfc9460#section-2.4.1" class="relref">Section 2.4.1</a> of [<a href="#RFC9460" class="cite xref">RFC9460</a>]</span> states that within an SVCB RRset, all RRs <span class="bcp14">SHOULD</span> have the same mode, and that if an RRset contains a record in AliasMode, the recipient <span class="bcp14">MUST</span> ignore any ServiceMode records in the set.
Different from SVCB, mixed ServiceMode and AliasMode RRs are allowed in an IDELEG RRset.
When a mixed ServiceMode and AliasMode IDELEG RRset is encountered by a resolver, the resolver first picks one of the AliasMode RRs or all ServiceMode RRs, giving all ServiceMode RRs equal weight as each single AliasMode RR.
When the result of that choice is an AliasMode RR, then that RR is followed and the resulting IDELEG RRset is reevaluated.
When the result of that choice is all ServiceMode RRs, then within that set the resolver adheres to the ServicePriority value.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">At the delegation point (for example <code>customer._deleg.example.</code>), the host names of the authoritative name servers for the subzone, are given in the TargetName RDATA field of IDELEG records in ServiceMode.
Port Prefix Naming <span><a href="https://rfc-editor.org/rfc/rfc9461#section-3" class="relref">Section 3</a> of [<a href="#RFC9461" class="cite xref">RFC9461</a>]</span> is not used at the delegation point, but <span class="bcp14">MUST</span> be used when resolving the aliased-to name servers with IDELEG RRs in AliasMode.<a href="#section-2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="delegation-administration">
<section id="section-3">
      <h2 id="name-delegation-administration">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-delegation-administration" class="section-name selfRef">Delegation administration</a>
      </h2>
<p id="section-3-1">An extensible delegation is realized with an IDELEG Resource Record set (RRset) <span>[<a href="#RFC9460" class="cite xref">RFC9460</a>]</span> below a specially for the purpose reserved label with the name <code>_deleg</code> at the apex of the delegating zone.
The <code>_deleg</code> label scopes the interpretation of the IDELEG records and requires registration in the "Underscored and Globally Scoped DNS Node Names" registry (see <span><a href="#node-name" class="internal xref">_deleg Node Name</a> (<a href="#node-name" class="auto internal xref">Section 12.2</a>)</span>).
The full scoping of delegations includes the labels that are <strong>below</strong> the <code>_deleg</code> label and those, together with the name of the delegating domain, make up the name of the subzone to which the delegation refers.
For example, if the delegating zone is <code>example.</code>, then a delegation to subzone <code>customer.example.</code> is realized by a IDELEG RRset at the name <code>customer._deleg.example.</code> in the parent zone.
A fully scoped delegating name (such as <code>customer._deleg.example.</code>) is referred to further in this document as the "delegation point".<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">Note that if the delegation is outsourcing to a single operator represented in a single IDELEG RR, it is <span class="bcp14">RECOMMENDED</span> to refer to the name of the operator's IDELEG RRset with a CNAME on the delegation point instead of a IDELEG RR in AliasMode <span><a href="https://rfc-editor.org/rfc/rfc9460#section-10.2" class="relref">Section 10.2</a> of [<a href="#RFC9460" class="cite xref">RFC9460</a>]</span>.<a href="#section-3-2" class="pilcrow">¶</a></p>
<div id="examples">
<section id="section-3.1">
        <h3 id="name-examples">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-examples" class="section-name selfRef">Examples</a>
        </h3>
<div id="one-name-server-within-the-subzone">
<section id="section-3.1.1">
          <h4 id="name-one-name-server-within-the-">
<a href="#section-3.1.1" class="section-number selfRef">3.1.1. </a><a href="#name-one-name-server-within-the-" class="section-name selfRef">One name server within the subzone</a>
          </h4>
<span id="name-one-name-server-within-the-s"></span><div id="zone-within">
<figure id="figure-1">
            <div class="lang-~ sourcecode" id="section-3.1.1-1.1">
<pre>
$ORIGIN example.
@                 IN  SOA    ns zonemaster ...
customer1._deleg  IN  IDELEG 1 ( ns.customer1
                                 ipv4hint=198.51.100.1,203.0.113.1
                                 ipv6hint=2001:db8:1::1,2001:db8:2::1
                               )
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-one-name-server-within-the-s" class="selfRef">One name server within the subzone</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="two-name-servers-within-the-subzone">
<section id="section-3.1.2">
          <h4 id="name-two-name-servers-within-the">
<a href="#section-3.1.2" class="section-number selfRef">3.1.2. </a><a href="#name-two-name-servers-within-the" class="section-name selfRef">Two name servers within the subzone</a>
          </h4>
<span id="name-two-name-servers-within-the-"></span><div id="zones-within">
<figure id="figure-2">
            <div class="alignLeft art-text artwork" id="section-3.1.2-1.1">
<pre>
$ORIGIN example.
@                 IN  SOA    ns zonemaster ...
customer2._deleg  IN  IDELEG 1 ns1.customer2 ( ipv4hint=198.51.100.1
                                               ipv6hint=2001:db8:1::1
                                             )
                  IN  IDELEG 1 ns2.customer2 ( ipv4hint=203.0.113.1
                                               ipv6hint=2001:db8:2::1
                                             )
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-two-name-servers-within-the-" class="selfRef">Two name servers within the subzone</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="outsourced-to-an-operator">
<section id="section-3.1.3">
          <h4 id="name-outsourced-to-an-operator">
<a href="#section-3.1.3" class="section-number selfRef">3.1.3. </a><a href="#name-outsourced-to-an-operator" class="section-name selfRef">Outsourced to an operator</a>
          </h4>
<span id="name-outsourced-with-cname"></span><div id="outsourced-cname">
<figure id="figure-3">
            <div class="alignLeft art-text artwork" id="section-3.1.3-1.1">
<pre>
$ORIGIN example.
@                 IN  SOA   ns zonemaster ...
customer3._deleg  IN  CNAME _dns.ns.operator1
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-outsourced-with-cname" class="selfRef">Outsourced with CNAME</a>
            </figcaption></figure>
</div>
<p id="section-3.1.3-2">Instead of using CNAME, the outsourcing could also have been accomplished with an IDELEG RRset with a single IDELEG RR in AliasMode.
The configuration below is operationally equivalent to the CNAME configuration above.
It is <span class="bcp14">RECOMMENDED</span> to use a CNAME over an IDELEG RRset with a single IDELEG RR in AliasMode (<span><a href="https://rfc-editor.org/rfc/rfc9460#section-10.2" class="relref">Section 10.2</a> of [<a href="#RFC9460" class="cite xref">RFC9460</a>]</span>).
Note that an IDELEG RRset refers with TargetName to a DNS service, which will be looked up using Port Prefix Naming <span><a href="https://rfc-editor.org/rfc/rfc9461#section-3" class="relref">Section 3</a> of [<a href="#RFC9461" class="cite xref">RFC9461</a>]</span>, but that CNAME refers to the domain name of the target IDELEG RRset (or CNAME) which may have a <code>_dns</code> prefix.<a href="#section-3.1.3-2" class="pilcrow">¶</a></p>
<span id="name-outsourced-with-an-aliasmod"></span><div id="outsourced-svcb">
<figure id="figure-4">
            <div class="alignLeft art-text artwork" id="section-3.1.3-3.1">
<pre>
$ORIGIN example.
@                 IN  SOA    ns zonemaster ...
customer3._deleg  IN  IDELEG 0 ns.operator1
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-outsourced-with-an-aliasmod" class="selfRef">Outsourced with an AliasMode IDELEG RR</a>
            </figcaption></figure>
</div>
<p id="section-3.1.3-4">The operator IDELEG RRset could for example be:<a href="#section-3.1.3-4" class="pilcrow">¶</a></p>
<span id="name-operator-zone"></span><div id="operator-zone">
<figure id="figure-5">
            <div class="alignLeft art-text artwork" id="section-3.1.3-5.1">
<pre>
$ORIGIN operator1.example.
@                 IN  SOA    ns zonemaster ...
_dns.ns           IN  IDELEG 1 ns ( alpn=h2,dot,h3,doq
                                    ipv4hint=192.0.2.1
                                    ipv6hint=2001:db8:3::1
                                    dohpath=/q{?dns}
                                  )
                  IN  IDELEG 2 ns ( ipv4hint=192.0.2.2
                                    ipv6hint=2001:db8:3::2
                                  )
ns                IN  AAAA   2001:db8:3::1
                  IN  AAAA   2001:db8:3::2
                  IN  A      192.0.2.1
                  IN  A      192.0.2.2
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-operator-zone" class="selfRef">Operator zone</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="dnssec-signed-name-servers-within-the-subzone">
<section id="section-3.1.4">
          <h4 id="name-dnssec-signed-name-servers-">
<a href="#section-3.1.4" class="section-number selfRef">3.1.4. </a><a href="#name-dnssec-signed-name-servers-" class="section-name selfRef">DNSSEC-signed name servers within the subzone</a>
          </h4>
<span id="name-dnssec-signed-incremental-d"></span><div id="dnssec-zone">
<figure id="figure-6">
            <div class="alignLeft art-text artwork" id="section-3.1.4-1.1">
<pre>
$ORIGIN
@                 IN  SOA    ns zonemaster ...
                  IN  RRSIG  SOA ...
                  IN  DNSKEY 257 3 15 ...
                  IN  RRSIG  DNSKEY ...
                  IN  NS     ns.example.
                  IN  RRSIG  NS ...
                  IN  NSEC   customer5._deleg NS SOA RRSIG NSEC DNSKEY
                  IN  RRSIG  NSEC ...

customer5._deleg  IN  IDELEG 1 ns.customer5 alpn=h2,h3 (
                                            ipv4hint=198.51.100.5
                                            ipv6hint=2001:db8:5::1
                                            dohpath=/dns-query{?dns}
                                            )
                  IN  RRSIG  IDELEG ...
                  IN  NSEC   customer7._deleg RRSIG NSEC IDELEG
                  IN  RRSIG  NSEC ...

customer7._deleg  IN  CNAME  customer5._deleg
                  IN  RRSIG  CNAME ...
                  IN  NSEC   customer5 CNAME RRSIG NSEC
                  IN  RRSIG  NSEC ...

customer5         IN  NS     ns.customer5
ns.customer5      IN  A      198.51.100.5
                  IN  AAAA   2001:db8:5::1
customer5         IN  DS     17405 15 2 ...
                  IN  RRSIG  DS ...
                  IN  NSEC   customer6 NS DS RRSIG NSEC
                  IN  RRSIG  NSEC ...

customer6         IN  NS     ns.customer6
ns.customer6      IN  A      203.0.113.1
                  IN  AAAA   2001:db8:6::1
customer6         IN  DS     ...
                  IN  RRSIG  DS ...
                  IN  NSEC   customer7 NS DS RRSIG NSEC
                  IN  RRSIG  NSEC ...

customer7         IN  NS     ns.customer5
                  IN  DS     ...
                  IN  RRSIG  DS ...
                  IN  NSEC   example. NS DS RRSIG NSEC
                  IN  RRSIG  NSEC ...
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-dnssec-signed-incremental-d" class="selfRef">DNSSEC-signed incremental deleg zone</a>
            </figcaption></figure>
</div>
<p id="section-3.1.4-2"><code>customer5.example.</code> is delegated to in an extensible way and <code>customer6.example.</code> is delegated only in a legacy way.
<code>customer7.example.</code>'s delegation is outsourced to customer5's delegation.<a href="#section-3.1.4-2" class="pilcrow">¶</a></p>
<p id="section-3.1.4-3">The delegation signals that the authoritative name server supports DoH.
<code>customer5.example.</code>, <code>customer6.example.</code> and <code>example.</code> are all DNSSEC-signed.
The DNSSEC authentication chain links from <code>example.</code> to <code>customer5.example.</code> in the for DNSSEC conventional way with the signed <code>customer5.example. DS</code> RRset in the <code>example.</code> zone.
Also, <code>customer6.example.</code> is linked to from <code>example.</code> with the signed <code>customer6.example. DS</code> RRset in the <code>example.</code> zone.<a href="#section-3.1.4-3" class="pilcrow">¶</a></p>
<p id="section-3.1.4-4">Note that both <code>customer5.example.</code> and <code>customer6.example.</code> have legacy delegations in the zone as well.
It is important to have those legacy delegations to maintain support for legacy resolvers, that do not support incremental deleg.
DNSSEC signers <span class="bcp14">SHOULD</span> construct the NS RRset and glue for the legacy delegation from the IDELEG RRset.<a href="#section-3.1.4-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="minimal-implementation">
<section id="section-4">
      <h2 id="name-minimal-implementation">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-minimal-implementation" class="section-name selfRef">Minimal implementation</a>
      </h2>
<p id="section-4-1">Support in recursive resolvers suffices for the mechanism to be fully functional.
<a href="#recursive-resolver-behavior" class="auto internal xref">Section 4.1</a> specifies the basic algorithm for resolving incremental delegations.
In <a href="#presence" class="auto internal xref">Section 4.2</a>, an optimization is presented that will reduce the number of (parallel) queries especially for when authoritative name server support is still lacking and there are still many zones that do not contain incremental delegations.<a href="#section-4-1" class="pilcrow">¶</a></p>
<div id="recursive-resolver-behavior">
<section id="section-4.1">
        <h3 id="name-recursive-resolver-behavior">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-recursive-resolver-behavior" class="section-name selfRef">Recursive Resolver behavior</a>
        </h3>
<p id="section-4.1-1">If the triggering query name is the same as the name of the target zone apex, then no further delegation will occur, and resolution will complete.
No special behavior or processing is needed.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">Otherwise, the triggering query is below the target zone apex and a delegation may exist in the target zone.
In this case two parallel queries <span class="bcp14">MUST</span> be sent.
One for the triggering query in the way that is conventional with legacy delegations (which could be just the triggering query or a minimised query <span>[<a href="#RFC9156" class="cite xref">RFC9156</a>]</span>), and one <em>incremental deleg query</em> with query type IDELEG.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">The incremental deleg query name is constructed by concatenating the first label below the part that the triggering query name has in common with the target zone, a <code>_deleg</code> label and the name of the target zone.
For example if the triggering query is <code>www.customer.example.</code> and the target zone <code>example.</code>, then the incremental deleg query name is <code>customer._deleg.example.</code>
For another example, if the triggering query is <code>www.faculty.university.example.</code> and the target zone <code>example.</code> then the incremental deleg name is <code>university._deleg.example.</code><a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4">Normal DNAME, CNAME and IDELEG in AliasMode processing should happen as before, though note that when following an IDELEG RR in AliasMode the target RR type is SVCB (see <a href="#the-deleg-resource-record-type" class="auto internal xref">Section 2</a>).
The eventual incremental deleg query response, after following all redirections caused by DNAME, CNAME and AliasMode IDELEG RRs, has three possible outcomes:<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4.1-5">
<li id="section-4.1-5.1">
            <p id="section-4.1-5.1.1">An IDELEG RRset in ServiceMode is returned in the response's answer section containing the delegation for the subzone.<a href="#section-4.1-5.1.1" class="pilcrow">¶</a></p>
<p id="section-4.1-5.1.2">
The IDELEG RRs in the RRset <span class="bcp14">MUST</span> be used to follow the referral.
The TargetName data field in the IDELEG RRs in the RRset <span class="bcp14">MUST</span> be used as the names for the name servers to contact for the subzone, and the ipv4hint and ipv6hint parameters <span class="bcp14">MUST</span> be used as the IP addresses for the TargetName in the same IDELEG RR.<a href="#section-4.1-5.1.2" class="pilcrow">¶</a></p>
<p id="section-4.1-5.1.3">
The NS RRset and glue, in the response of the legacy query that was sent in parallel to the incremental deleg query, <span class="bcp14">MUST NOT</span> be used, but the signed DS record (or NSEC(3) records indicating that there was no DS) <span class="bcp14">MUST</span> be used in linking the DNSSEC authentication chain as which would conventionally be done with DNSSEC as well.<a href="#section-4.1-5.1.3" class="pilcrow">¶</a></p>
</li>
          <li id="section-4.1-5.2">
            <p id="section-4.1-5.2.1">The incremental deleg query name does not exist (NXDOMAIN).<a href="#section-4.1-5.2.1" class="pilcrow">¶</a></p>
<p id="section-4.1-5.2.2">
There is no incremental delegation for the subzone, and the referral response for the legacy delegation <span class="bcp14">MUST</span> be processed  as would be done with legacy DNS and DNSSEC processing.<a href="#section-4.1-5.2.2" class="pilcrow">¶</a></p>
</li>
          <li id="section-4.1-5.3">
            <p id="section-4.1-5.3.1">The incremental deleg query name does exist, but resulted in a NOERROR no answer response (also known as a NODATA response).<a href="#section-4.1-5.3.1" class="pilcrow">¶</a></p>
<p id="section-4.1-5.3.2">
If the legacy query, did result in a referral for the same number of labels as the subdomain that the incremental deleg query was for, then there was no incremental delegation for the subzone, and the referral response for the legacy delegation <span class="bcp14">MUST</span> be processed as would be done with legacy DNS and DNSSEC processing.<a href="#section-4.1-5.3.2" class="pilcrow">¶</a></p>
<p id="section-4.1-5.3.3">
Otherwise, the subzone may be more than one label below the delegating zone.<a href="#section-4.1-5.3.3" class="pilcrow">¶</a></p>
<p id="section-4.1-5.3.4">
If the response to the legacy query resulted in a referral, then a new incremental deleg query <span class="bcp14">MUST</span> be spawned, matching the zone cut of the legacy referral response.
For example if the triggering query is <code>www.university.ac.example.</code> and the target zone <code>example.</code>, and the legacy response contained an NS RRset for <code>university.ac.example.</code>, then the incremental deleg query name is <code>university.ac._deleg.example.</code>
The response to the new incremental deleg query <span class="bcp14">MUST</span> be processed as described above, as if it was the initial incremental deleg query.<a href="#section-4.1-5.3.4" class="pilcrow">¶</a></p>
<p id="section-4.1-5.3.5">
If the legacy query was sent minimised and needs a followup query, then parallel to that followup query a new incremental deleg query will be sent, adding a single label to the previous incremental deleg query name.
For example if the triggering query is <code>www.university.ac.example.</code> and the target zone is <code>example.</code> and the minimised legacy query name is <code>ac.example.</code> (which also resulted in a NOERROR no answer response), then the incremental deleg query to be sent along in parallel with the followup legacy query will become <code>university.ac._deleg.example.</code>
Processing of the responses of those two new queries will be done as described above.<a href="#section-4.1-5.3.5" class="pilcrow">¶</a></p>
</li>
        </ol>
</section>
</div>
<div id="presence">
<section id="section-4.2">
        <h3 id="name-_deleg-label-presence">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-_deleg-label-presence" class="section-name selfRef"><code>_deleg</code> label presence</a>
        </h3>
<p id="section-4.2-1">Absence of the <code>_deleg</code> label in a zone is a clear signal that the zone does not contain any incremental deleg delegations.
Recursive resolvers <span class="bcp14">SHOULD NOT</span> send any additional incremental deleg queries for zones for which it is known that it does not contain the <code>_deleg</code> label at the apex.
The state regarding the presence of the <code>_deleg</code> label within a resolver can be "unknown", "known not to be present", or "known to be present".<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">The state regarding the presence of the <code>_deleg</code> label can be deduced from the response of the incremental deleg query, if the target zone is signed with DNSSEC.
If the target zone is unsigned, the procedure as described in the remainder of this section <span class="bcp14">SHOULD</span> be followed.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">When the presence of a <code>_deleg</code> label is "unknown", a <code>_deleg</code> presence test query <span class="bcp14">SHOULD</span> be sent in parallel to the next query for the unsigned target zone (though not when the target name server is known to support incremental deleg, which will be discussed in <a href="#authoritative-name-server-support" class="auto internal xref">Section 5.1</a>).
The query name for the test query is the <code>_deleg</code> label prepended to the apex of zone for which to test presence, with query type NS.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2-4">The testing query can have three possible outcomes:<a href="#section-4.2-4" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4.2-5">
<li id="section-4.2-5.1">
            <p id="section-4.2-5.1.1">The <code>_deleg</code> label does not exist within the zone, and an NXDOMAIN response is returned.<a href="#section-4.2-5.1.1" class="pilcrow">¶</a></p>
<p id="section-4.2-5.1.2">
The non-existence of the <code>_deleg</code> label <span class="bcp14">MUST</span> be cached for the duration indicated by the "minimum" RDATA field of the SOA resource record in the authority section, adjusted to the boundaries for TTL values that the resolver has (<span><a href="https://rfc-editor.org/rfc/rfc8767#section-4" class="relref">Section 4</a> of [<a href="#RFC8767" class="cite xref">RFC8767</a>]</span>).
For the period the non-existence of the <code>_deleg</code> label is cached, the label is "known not to be present" and the resolver <span class="bcp14">SHOULD NOT</span> send any (additional) incremental deleg queries.<a href="#section-4.2-5.1.2" class="pilcrow">¶</a></p>
</li>
          <li id="section-4.2-5.2">
            <p id="section-4.2-5.2.1">The <code>_deleg</code> label does exist within the zone but contains no data.
A NOERROR response is returned with no RRs in the answer section.<a href="#section-4.2-5.2.1" class="pilcrow">¶</a></p>
<p id="section-4.2-5.2.2">
The existence of the <code>_deleg</code> name <span class="bcp14">MUST</span> be cached for the duration indicated by the "minimum" RDATA field of the SOA resource record in the authority section, adjusted to the resolver's TTL boundaries.
For the period the existence of the empty non-terminal at the <code>_deleg</code> label is cached, the label is "known to be present" and the resolver <span class="bcp14">MUST</span> send additional incremental deleg queries as described in <a href="#recursive-resolver-behavior" class="auto internal xref">Section 4.1</a>.<a href="#section-4.2-5.2.2" class="pilcrow">¶</a></p>
</li>
          <li id="section-4.2-5.3">
            <p id="section-4.2-5.3.1">The <code>_deleg</code> label does exist within the zone, but is a delegation.
A NOERROR legacy referral response is returned with an NS RRset in the authority section.<a href="#section-4.2-5.3.1" class="pilcrow">¶</a></p>
<p id="section-4.2-5.3.2">
The resolver <span class="bcp14">MUST</span> record that the zone does not have valid incremental delegations deployed for the duration indicated by the NS RRset's TTL value, adjusted to the resolver's TTL boundaries.
For the period indicated by the NS RRset's TTL value, the zone is considered to <strong>not</strong> to have valid incremental delegations, and <span class="bcp14">MUST NOT</span> send any (additional) incremental deleg queries.<a href="#section-4.2-5.3.2" class="pilcrow">¶</a></p>
</li>
        </ol>
</section>
</div>
</section>
</div>
<div id="optimized-implementation">
<section id="section-5">
      <h2 id="name-optimized-implementation">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-optimized-implementation" class="section-name selfRef">Optimized implementation</a>
      </h2>
<p id="section-5-1">Support for authoritative name servers enables optimized query behavior by resolvers with reduced (simultaneous) queries.
<a href="#authoritative-name-server-support" class="auto internal xref">Section 5.1</a> specifies how incremental deleg supporting authoritative name servers return referral responses for delegations.
In <a href="#behavior-with-auth-support" class="auto internal xref">Section 5.2</a> we specify how resolvers can benefit from those authoritative servers.<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="authoritative-name-server-support">
<section id="section-5.1">
        <h3 id="name-authoritative-name-server-s">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-authoritative-name-server-s" class="section-name selfRef">Authoritative name server support</a>
        </h3>
<p id="section-5.1-1">Incremental delegations supporting authoritative name servers include the incremental delegation information (or the NSEC(3) records showing the non-existence) in the authority section of referral responses to legacy DNS queries.
For example, querying the zone from <a href="#dnssec-zone" class="auto internal xref">Figure 6</a> for <code>www.customer5.example. A</code>, will return the following referral response:<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<span id="name-an-incremental-deleg-referr"></span><div id="deleg-response">
<figure id="figure-7">
          <div class="alignLeft art-text artwork" id="section-5.1-2.1">
<pre>
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, rcode: NOERROR, id: 54349
;; flags: qr ; QUERY: 1, ANSWER: 0, AUTHORITY: 5, ADDITIONAL: 2
;; QUESTION SECTION:
;; www.customer5.example.       IN      A

;; ANSWER SECTION:

;; AUTHORITY SECTION:
customer5.example.      3600    IN      NS      ns.customer5.example.
customer5.example.      3600    IN      DS      ...
customer5.example.      3600    IN      RRSIG   DS ...
customer5._deleg.example.       3600    IN      IDELEG 1 (
                ns.customer5.example. alpn=h2,h3
                ipv4hint=198.51.100.5 ipv6hint=2001:db8:5::1
                dohpath=/dns-query{?dns}
                )
customer5._deleg.example.       3600    IN      RRSIG   IDELEG ...

;; ADDITIONAL SECTION:
ns.customer5.example.   3600    IN      A       198.51.100.5
ns.customer5.example.   3600    IN      AAAA    2001:db8:5::1

;; Query time: 0 msec
;; EDNS: version 0; flags: do ; udp: 1232
;; SERVER: 192.0.2.53
;; WHEN: Mon Feb 24 20:36:25 2025
;; MSG SIZE  rcvd: 456
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-an-incremental-deleg-referr" class="selfRef">An incremental deleg referral response</a>
          </figcaption></figure>
</div>
<p id="section-5.1-3">The referral response in <a href="#deleg-response" class="auto internal xref">Figure 7</a> includes the signed IDELEG RRset in the authority section.<a href="#section-5.1-3" class="pilcrow">¶</a></p>
<p id="section-5.1-4">As another example, querying the zone from <a href="#dnssec-zone" class="auto internal xref">Figure 6</a> for <code>www.customer6.example. A</code>, will return the following referral response:<a href="#section-5.1-4" class="pilcrow">¶</a></p>
<span id="name-referral-response-without-i"></span><div id="no-incr-deleg-response">
<figure id="figure-8">
          <div class="alignLeft art-text artwork" id="section-5.1-5.1">
<pre>
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, rcode: NOERROR, id: 36574
;; flags: qr ; QUERY: 1, ANSWER: 0, AUTHORITY: 9, ADDITIONAL: 2
;; QUESTION SECTION:
;; www.customer6.example.       IN      A

;; ANSWER SECTION:

;; AUTHORITY SECTION:
customer6.example.      3600    IN      NS      ns.customer6.example.
customer6.example.      3600    IN      DS      ...
customer6.example.      3600    IN      RRSIG   DS ...
customer5._deleg.example.       1234    IN      NSEC    (
                customer7._deleg.example.  RRSIG NSEC IDELEG )
customer5._deleg.example.       1234    IN      RRSIG   NSEC ...
example.        1234    IN      NSEC    (
                customer5._deleg.example.  NS SOA RRSIG NSEC DNSKEY )
example.        1234    IN      RRSIG   NSEC ...

;; ADDITIONAL SECTION:
ns.customer6.example.   3600    IN      A       203.0.113.1
ns.customer6.example.   3600    IN      AAAA    2001:db8:6::1

;; Query time: 0 msec
;; EDNS: version 0; flags: do ; udp: 1232
;; SERVER: 192.0.2.53
;; WHEN: Tue Feb 25 10:23:53 2025
;; MSG SIZE  rcvd: 744
</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-referral-response-without-i" class="selfRef">Referral response without incremental deleg</a>
          </figcaption></figure>
</div>
<p id="section-5.1-6">Next to the legacy delegation, the incremental deleg supporting authoritative returns the NSEC(3) RRs needed to show that there was no incremental delegation in the referral response in <a href="#no-incr-deleg-response" class="auto internal xref">Figure 8</a>.<a href="#section-5.1-6" class="pilcrow">¶</a></p>
<p id="section-5.1-7">Querying the zone from <a href="#dnssec-zone" class="auto internal xref">Figure 6</a> for <code>www.customer7.example. A</code>, will return the following referral response:<a href="#section-5.1-7" class="pilcrow">¶</a></p>
<span id="name-aliasing-referral-response"></span><div id="alias-response">
<figure id="figure-9">
          <div class="alignLeft art-text artwork" id="section-5.1-8.1">
<pre>
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, rcode: NOERROR, id: 9456
;; flags: qr ; QUERY: 1, ANSWER: 0, AUTHORITY: 7, ADDITIONAL: 2
;; QUESTION SECTION:
;; www.customer7.example.       IN      A

;; ANSWER SECTION:

;; AUTHORITY SECTION:
customer7.example.      3600    IN      NS      ns.customer5.example.
customer7.example.      3600    IN      DS      ...
customer7.example.      3600    IN      RRSIG   DS ...
customer7._deleg.example.       3600    IN      CNAME   (
                customer5._deleg.example. )
customer7._deleg.example.       3600    IN      RRSIG   CNAME ...
customer5._deleg.example.       3600    IN      IDELEG   1 (
                ns.customer5.example. alpn=h2,h3
                ipv4hint=198.51.100.5 ipv6hint=2001:db8:5::1 )
customer5._deleg.example.       3600    IN      RRSIG   IDELEG ...

;; ADDITIONAL SECTION:
ns.customer5.example.   3600    IN      A       198.51.100.5
ns.customer5.example.   3600    IN      AAAA    2001:db8:5::1

;; Query time: 0 msec
;; EDNS: version 0; flags: do ; udp: 1232
;; SERVER: 192.0.2.53
;; WHEN: Tue Feb 25 10:55:07 2025
;; MSG SIZE  rcvd: 593
</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-aliasing-referral-response" class="selfRef">Aliasing referral response</a>
          </figcaption></figure>
</div>
<p id="section-5.1-9">The incremental delegation of <code>customer7.example.</code> is aliased to the one that is also used by <code>customer5.example.</code>
Since both delegations are in the same zone, the authoritative name server for <code>example.</code> returns both the CNAME realising the alias, as well as the IDELEG RRset which is the target of the alias in <a href="#alias-response" class="auto internal xref">Figure 9</a>.
In other cases a returned CNAME or IDELEG RR in AliasMode may need further chasing by the resolver.<a href="#section-5.1-9" class="pilcrow">¶</a></p>
<p id="section-5.1-10">With unsigned zones, only if an incremental delegation exists, the IDELEG RRset (or CNAME) will be present in the authority section of referral responses.

If the incremental deleg does not exist, then it is simply absent from the authority section and the referral response is indistinguishable from an non supportive authoritative.<a href="#section-5.1-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="behavior-with-auth-support">
<section id="section-5.2">
        <h3 id="name-resolver-behavior-with-auth">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-resolver-behavior-with-auth" class="section-name selfRef">Resolver behavior with authoritative name server support</a>
        </h3>
<p id="section-5.2-1">Incremental deleg supporting authoritative name servers will include the incremental delegation information (or the NSEC(3) records showing the non-existence) in the authority section of referral responses.
For an unsigned zone, an incremental deleg supporting authoritative cannot return that an incremental delegation is absent (because of lack of an authenticated denial of existence), however with support from the served zone (the zone has the Resource Record provisioned <code>*._deleg IN IDELEG 0 .</code>), the authoritative name server can signal support also for unsigned zones (see <span><a href="#extra-optimized" class="internal xref">Extra optimized implementation</a> (<a href="#extra-optimized" class="auto internal xref">Section 6</a>)</span>).<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">If it is known that an authoritative name server supports incremental deleg, then no direct queries for the incremental delegation need to be sent in parallel to the legacy delegation query.
A resolver <span class="bcp14">SHOULD</span> register that an authoritative name server supports incremental deleg when the authority section, of the returned referral responses from that authoritative name server, contains incremental delegation information.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<p id="section-5.2-3">When the authority section of a referral response contains an IDELEG RRset or a CNAME record on the incremental delegation name, or valid NSEC(3) RRs showing the non-existence of such an IDELEG or CNAME RRset, then the resolver <span class="bcp14">SHOULD</span> register that the contacted authoritative name server supports incremental deleg for the duration indicated by the TTL for that IDELEG, CNAME or NSEC(3) RRset, adjusted to the resolver's TTL boundaries, but only if it is longer than any already registered duration.
Subsequent queries <span class="bcp14">SHOULD NOT</span> include incremental deleg queries, as described in <a href="#recursive-resolver-behavior" class="auto internal xref">Section 4.1</a>, to be send in parallel for the duration support for incremental deleg is registered for the authoritative name server.<a href="#section-5.2-3" class="pilcrow">¶</a></p>
<p id="section-5.2-4">For example, in <a href="#deleg-response" class="auto internal xref">Figure 7</a>, the IDELEG RRset at the incremental delegation point has TTL 3600.
The resolver should register that the contacted authoritative name server supports incremental deleg for (at least) 3600 seconds (one hour).
All subsequent queries to that authoritative name server <span class="bcp14">SHOULD NOT</span> include incremental deleg queries to be send in parallel.<a href="#section-5.2-4" class="pilcrow">¶</a></p>
<p id="section-5.2-5">If the authority section contains more than one RRset making up the incremental delegation, then the RRset with the longest TTL <span class="bcp14">MUST</span> be taken to determine the duration for which incremental deleg support is registered.<a href="#section-5.2-5" class="pilcrow">¶</a></p>
<p id="section-5.2-6">For example, in <a href="#alias-response" class="auto internal xref">Figure 9</a>, both a CNAME and an IDELEG RRset for the incremental delegation are included in the authority section.
The longest TTL must be taken for incremental support registration, though because the TTL of both RRsets is 3600, it does not matter in this case.<a href="#section-5.2-6" class="pilcrow">¶</a></p>
<p id="section-5.2-7">With DNSSEC-signed zones, support is apparent with all referral responses.
With unsigned zones, support is apparent only from referral responses for which an incremental delegation exists, unless the zone has the Resource Record <code>*._deleg IN IDELEG 0 .</code> provisioned (see <span><a href="#extra-optimized" class="internal xref">Extra optimized implementation</a> (<a href="#extra-optimized" class="auto internal xref">Section 6</a>)</span>).<a href="#section-5.2-7" class="pilcrow">¶</a></p>
<p id="section-5.2-8">If the resolver knows that the authoritative name server supports incremental deleg, <em>and</em> a DNSSEC-signed zone is being served, then all referrals <span class="bcp14">SHOULD</span> contain either an incremental delegation, or NSEC(3) records showing that the delegation does not exist.
If a referral is returned that does not contain an incremental delegation nor an indication that it does not exist, then the resolver <span class="bcp14">MAY</span> register that authoritative server does not support incremental deleg and <span class="bcp14">MUST</span> send an additional incremental deleg query to find the incremental delegation (or denial of its existence).<a href="#section-5.2-8" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="extra-optimized">
<section id="section-6">
      <h2 id="name-extra-optimized-implementat">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-extra-optimized-implementat" class="section-name selfRef">Extra optimized implementation</a>
      </h2>
<p id="section-6-1">An IDELEG RRset on an incremental delegation point, with an IDELEG RR in AliasMode, aliasing to the root zone, <span class="bcp14">MUST</span> be interpreted to mean that the legacy delegation information <span class="bcp14">MUST</span> be used to follow the referral.
All service parameters for such AliasMode (aliasing to the root) IDELEG RRs on the incremental delegation point, <span class="bcp14">MUST</span> be ignored.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">For example, such an IDELEG RRset registered on the wildcard below the <code>_deleg</code> label on the apex of a zone, can signal that legacy DNS referrals <span class="bcp14">MUST</span> be used for both signed and <em>unsigned</em> zones:<a href="#section-6-2" class="pilcrow">¶</a></p>
<span id="name-wildcard-incremental-deleg-"></span><div id="wildcard-deleg">
<figure id="figure-10">
        <div class="alignLeft art-text artwork" id="section-6-3.1">
<pre>
$ORIGIN example.
@                 IN  SOA   ns zonemaster ...
*._deleg   86400  IN  IDELEG 0 .
customer1._deleg  IN  IDELEG 1 ( ns.customer1
                                 ipv4hint=198.51.100.1,203.0.113.1
                                 ipv6hint=2001:db8:1::1,2001:db8:2::1
                               )
customer3._deleg  IN  CNAME _dns.ns.operator1
</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a>:
<a href="#name-wildcard-incremental-deleg-" class="selfRef">Wildcard incremental deleg to control duration of detected support</a>
        </figcaption></figure>
</div>
<p id="section-6-4">Resolvers <span class="bcp14">SHOULD</span> register that an authoritative name server supports incremental deleg, if such an IDELEG RRset is returned in the authority section of referral responses, for the duration of the TTL if the IDELEG RRset, adjusted to the resolver's TTL boundaries, but only if it is longer than any already registered duration.
Note that this will also be included in referral responses for unsigned zones, which would otherwise not have signalling of incremental deleg support by the authoritative name server.
Also, signed zones need fewer RRs to indicate that no incremental delegation exists.
The wildcard expansion already shows the closest encloser (i.e. <code>_deleg.&lt;apex&gt;</code>), so only one additional NSEC(3) is needed to show non-existence of the queried-for name below the closest encloser.<a href="#section-6-4" class="pilcrow">¶</a></p>
<p id="section-6-5">This method of signalling that the legacy delegation <span class="bcp14">MUST</span> be used, is <span class="bcp14">RECOMMENDED</span>.<a href="#section-6-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="priming-queries">
<section id="section-7">
      <h2 id="name-priming-queries">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-priming-queries" class="section-name selfRef">Priming queries</a>
      </h2>
<p id="section-7-1">Some zones, such as the root zone, are targeted directly from hints files.
Information about which authoritative name servers and with capabilities, <span class="bcp14">MAY</span> be provided in an IDELEG RRset directly at the <code>_deleg</code> label under the apex of the zone.
Priming queries from an incremental deleg supporting resolver, <span class="bcp14">MUST</span> send an <code>_deleg.&lt;apex&gt; IDELEG</code> query in parallel to the legacy <code>&lt;apex&gt; NS</code> query and process the content as if it was found through an incremental referral response.<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="how-does-incremental-deleg-meet-the-requirements">
<section id="section-8">
      <h2 id="name-how-does-incremental-deleg-">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-how-does-incremental-deleg-" class="section-name selfRef">How does incremental deleg meet the requirements</a>
      </h2>
<p id="section-8-1">This section will discuss how incremental deleg meets the requirements for a new delegation mechanism as described in <span>[<a href="#I-D.ietf-deleg-requirements-02" class="cite xref">I-D.ietf-deleg-requirements-02</a>]</span><a href="#section-8-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8-2.1">
          <p id="section-8-2.1.1">H1. DELEG must not disrupt the existing registration model of domains.<a href="#section-8-2.1.1" class="pilcrow">¶</a></p>
<p id="section-8-2.1.2">
The existing zone structure including the concept of delegations from
a parent zone to a child zone is left unchanged.<a href="#section-8-2.1.2" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-8-2.2">
          <p id="section-8-2.2.1">H2. DELEG must be backwards compatible with the existing ecosystem.<a href="#section-8-2.2.1" class="pilcrow">¶</a></p>
<p id="section-8-2.2.2">
The new delegations do not interfere with legacy software.<a href="#section-8-2.2.2" class="pilcrow">¶</a></p>
<p id="section-8-2.2.3">
The behavior of incremental deleg-aware resolvers includes a fallback to NS
records if no incremental delegation is present (See <a href="#recursive-resolver-behavior" class="auto internal xref">Section 4.1</a>).<a href="#section-8-2.2.3" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-8-2.3">
          <p id="section-8-2.3.1">H3. DELEG must not negatively impact most DNS software.<a href="#section-8-2.3.1" class="pilcrow">¶</a></p>
<p id="section-8-2.3.2">
Incremental deleg introduces a new RR type.
Software that parses zone file format needs to be changed to support the new
type.
Though unknown type notation <span>[<a href="#RFC3597" class="cite xref">RFC3597</a>]</span> can be used in some cases if no support for the new RR type is present.
Existing authoritatives can serve incremental deleg zones (though less efficiently), existing signers can sign incremental deleg zones, existing diagnostic tools can query incremental deleg zones.
Non-recursive DNSSEC validators can operate independently from (possibly legacy) recursive resolvers.<a href="#section-8-2.3.2" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-8-2.4">
          <p id="section-8-2.4.1">H4. DELEG must be able to secure delegations with DNSSEC.<a href="#section-8-2.4.1" class="pilcrow">¶</a></p>
<p id="section-8-2.4.2">
Incremental delegations are automatically secured with DNSSEC
(if the parent zone is signed). A replacement for DS records is described in <span>[<a href="#I-D.homburg-deleg-incremental-dnssec" class="cite xref">I-D.homburg-deleg-incremental-dnssec</a>]</span>.<a href="#section-8-2.4.2" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-8-2.5">
          <p id="section-8-2.5.1">H5. DELEG must support updates to delegation information with the same relative ease as currently exists with NS records.<a href="#section-8-2.5.1" class="pilcrow">¶</a></p>
<p id="section-8-2.5.2">
Incremental delegations are affected by TTL like any other
DNS record.<a href="#section-8-2.5.2" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-8-2.6">
          <p id="section-8-2.6.1">H6. DELEG must be incrementally deployable and not require any sort of flag day of universal change.<a href="#section-8-2.6.1" class="pilcrow">¶</a></p>
<p id="section-8-2.6.2">
Incremental deleg zones can be added without upgrading authoritatives.
Incremental deleg zones still work with old resolvers and validators.
Basically any combination of old and new should work, though with
reduced efficiency for some combinations.<a href="#section-8-2.6.2" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-8-2.7">
          <p id="section-8-2.7.1">H7. DELEG must allow multiple independent operators to simultaneously serve a zone.<a href="#section-8-2.7.1" class="pilcrow">¶</a></p>
<p id="section-8-2.7.2">
Incremental deleg allows for multiple IDELEG records. This allows
multiple operators to serve the zone.<a href="#section-8-2.7.2" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-8-2.8">
          <p id="section-8-2.8.1">S1. DELEG should facilitate the use of new DNS transport mechanisms<a href="#section-8-2.8.1" class="pilcrow">¶</a></p>
<p id="section-8-2.8.2">
New transports are already defined for the DNS mode of SVCB (<span>[<a href="#RFC9461" class="cite xref">RFC9461</a>]</span>).
The same parameters are used for IDELEG.<a href="#section-8-2.8.2" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-8-2.9">
          <p id="section-8-2.9.1">S2. DELEG should make clear all of the necessary details for contacting a service<a href="#section-8-2.9.1" class="pilcrow">¶</a></p>
<p id="section-8-2.9.2">
Most of the needed SVCB parameters are already defined in existing standards.
The exception is a replacement for the DS records, which is described in <span>[<a href="#I-D.homburg-deleg-incremental-dnssec" class="cite xref">I-D.homburg-deleg-incremental-dnssec</a>]</span>.<a href="#section-8-2.9.2" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-8-2.10">
          <p id="section-8-2.10.1">S3. DELEG should minimize transaction cost in its usage.<a href="#section-8-2.10.1" class="pilcrow">¶</a></p>
<p id="section-8-2.10.2">
Assuming Qname-minimisation, there are no extra queries needed in most cases
if the authoritative name server has incremental deleg support. The exception
is when the parent zone is not signed and has no incremental deleg records.
In that case, one extra query is needed when the parent zone is first
contacted (and every TTL).<a href="#section-8-2.10.2" class="pilcrow">¶</a></p>
<p id="section-8-2.10.3">
Additional queries may be needed to resolve aliases.<a href="#section-8-2.10.3" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-8-2.11">
          <p id="section-8-2.11.1">S4. DELEG should simplify management of a zone's DNS service.<a href="#section-8-2.11.1" class="pilcrow">¶</a></p>
<p id="section-8-2.11.2">
Zone management can be simplified using the alias mode of IDELEG.
This allows the zone operator to change the details of the delegation
without involving the parent zone.<a href="#section-8-2.11.2" class="pilcrow">¶</a></p>
<p id="section-8-2.11.3">
Draft <span>[<a href="#I-D.homburg-deleg-incremental-dnssec" class="cite xref">I-D.homburg-deleg-incremental-dnssec</a>]</span> defines the dnskeyref parameter which offers the same simplification for DNSSEC delegations.<a href="#section-8-2.11.3" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-8-2.12">
          <p id="section-8-2.12.1">S5. DELEG should allow for backward compatibility to the conventional NS-based delegation mechanism.<a href="#section-8-2.12.1" class="pilcrow">¶</a></p>
<p id="section-8-2.12.2">
NS records and glue can be extracted from the IDELEG record assuming no aliasing is used.<a href="#section-8-2.12.2" class="pilcrow">¶</a></p>
<p id="section-8-2.12.3">
The ds parameter in <span>[<a href="#I-D.homburg-deleg-incremental-dnssec" class="cite xref">I-D.homburg-deleg-incremental-dnssec</a>]</span> has the same value as the rdata of a DS record.<a href="#section-8-2.12.3" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-8-2.13">
          <p id="section-8-2.13.1">S6. DELEG should be extensible and allow for the easy incremental addition of new delegation features after initial deployment.<a href="#section-8-2.13.1" class="pilcrow">¶</a></p>
<p id="section-8-2.13.2">
SVCB-style records are extensible by design.<a href="#section-8-2.13.2" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-8-2.14">
          <p id="section-8-2.14.1">S7. DELEG should be able to convey a security model for delegations stronger than currently exists with DNSSEC.<a href="#section-8-2.14.1" class="pilcrow">¶</a></p>
<p id="section-8-2.14.2">
Incremental delegations are protected by DNSSEC, unlike
NS records at the parent zone.<a href="#section-8-2.14.2" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="comparison-with-other-delegation-mechanisms">
<section id="section-9">
      <h2 id="name-comparison-with-other-deleg">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-comparison-with-other-deleg" class="section-name selfRef">Comparison with other delegation mechanisms</a>
      </h2>
<p id="section-9-1">Table <a href="#xtraqueries" class="auto internal xref">Table 1</a> provides an overview of when extra queries, in parallel to the legacy query, are sent.<a href="#section-9-1" class="pilcrow">¶</a></p>
<span id="name-additional-queries-in-paral"></span><div id="xtraqueries">
<table class="center" id="table-1">
        <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-additional-queries-in-paral" class="selfRef">Additional queries in parallel to the legacy query</a>
        </caption>
<thead>
          <tr>
            <th class="text-center" rowspan="1" colspan="1"> </th>
            <th class="text-center" rowspan="1" colspan="1">apex query</th>
            <th class="text-center" rowspan="1" colspan="1">auth support</th>
            <th class="text-center" rowspan="1" colspan="1">_deleg presence</th>
            <th class="text-left" rowspan="1" colspan="1"> </th>
            <th class="text-center" rowspan="1" colspan="1">&lt;sub&gt;._deleg.&lt;apex&gt; IDELEG</th>
            <th class="text-center" rowspan="1" colspan="1">_deleg.&lt;apex&gt; A</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">1</td>
            <td class="text-center" rowspan="1" colspan="1">Yes</td>
            <td class="text-center" rowspan="1" colspan="1">*</td>
            <td class="text-center" rowspan="1" colspan="1">*</td>
            <td class="text-left" rowspan="1" colspan="1"> </td>
            <td class="text-center" rowspan="1" colspan="1"> </td>
            <td class="text-center" rowspan="1" colspan="1"> </td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">2</td>
            <td class="text-center" rowspan="1" colspan="1">No</td>
            <td class="text-center" rowspan="1" colspan="1">*</td>
            <td class="text-center" rowspan="1" colspan="1">No</td>
            <td class="text-left" rowspan="1" colspan="1"> </td>
            <td class="text-center" rowspan="1" colspan="1"> </td>
            <td class="text-center" rowspan="1" colspan="1"> </td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">3</td>
            <td class="text-center" rowspan="1" colspan="1">No</td>
            <td class="text-center" rowspan="1" colspan="1">Yes</td>
            <td class="text-center" rowspan="1" colspan="1">*</td>
            <td class="text-left" rowspan="1" colspan="1"> </td>
            <td class="text-center" rowspan="1" colspan="1"> </td>
            <td class="text-center" rowspan="1" colspan="1"> </td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">4</td>
            <td class="text-center" rowspan="1" colspan="1">No</td>
            <td class="text-center" rowspan="1" colspan="1">Unknown</td>
            <td class="text-center" rowspan="1" colspan="1">Yes</td>
            <td class="text-left" rowspan="1" colspan="1"> </td>
            <td class="text-center" rowspan="1" colspan="1">X</td>
            <td class="text-center" rowspan="1" colspan="1"> </td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">5</td>
            <td class="text-center" rowspan="1" colspan="1">No</td>
            <td class="text-center" rowspan="1" colspan="1">Unknown</td>
            <td class="text-center" rowspan="1" colspan="1">Unknown</td>
            <td class="text-left" rowspan="1" colspan="1"> </td>
            <td class="text-center" rowspan="1" colspan="1">X</td>
            <td class="text-center" rowspan="1" colspan="1">only for unsigned zones</td>
          </tr>
        </tbody>
      </table>
</div>
<p id="section-9-3">The three headers on the left side of the table mean the following:<a href="#section-9-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-9-4">
        <dt id="section-9-4.1">apex query:</dt>
        <dd style="margin-left: 1.5em" id="section-9-4.2">
          <p id="section-9-4.2.1">Whether the query is for the apex of the target zone.
"Yes" means an apex query, "No" means a query below the apex which may be delegated<a href="#section-9-4.2.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-9-4.3">auth support:</dt>
        <dd style="margin-left: 1.5em" id="section-9-4.4">
          <p id="section-9-4.4.1">Whether or not the target authoritative server supports incremental deleg.
"Yes" means it supports it and "Unknown" means support is not detected.
"*" means it does not matter<a href="#section-9-4.4.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-9-4.5">
<code>_deleg</code> presence:</dt>
        <dd style="margin-left: 1.5em" id="section-9-4.6">
          <p id="section-9-4.6.1">Whether or not the <code>_deleg</code> label is present in the target zone (and thus incremental delegations)<a href="#section-9-4.6.1" class="pilcrow">¶</a></p>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-9-5">On the right side of the table are the extra queries, to be sent in parallel with the legacy query.
The <code>_deleg</code> presence test query (most right column) only needs to be sent to unsigned target zones, because its non-existence will be shown in the NSEC(3) records showing the non-existence of the incremental delegation (second from right column).<a href="#section-9-5" class="pilcrow">¶</a></p>
<p id="section-9-6">If the query name is the same as the apex of the target zone, no extra queries need to be sent (Row 1).
If the <code>_deleg</code> label is known not to exist in the target zone (Row 2) or if the target name server is known to support incremental deleg (Row 3), no extra queries need to be sent.
Only if it is unknown that the target name server supports incremental deleg, and the <code>_deleg</code> label is known to exist in the target zone (Row 4) or it is not known whether or not the <code>_deleg</code> label exists (Row 5), and extra incremental deleg query is sent in parallel to the legacy query.
If the target zone is unsigned, presence of the <code>_deleg</code> label needs to be tested explicitly (Row 5).<a href="#section-9-6" class="pilcrow">¶</a></p>
<div id="comparison-with-legacy-delegations">
<section id="section-9.1">
        <h3 id="name-comparison-with-legacy-dele">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-comparison-with-legacy-dele" class="section-name selfRef">Comparison with legacy delegations</a>
        </h3>
<div id="the-delegation-point">
<section id="section-9.1.1">
          <h4 id="name-the-delegation-point">
<a href="#section-9.1.1" class="section-number selfRef">9.1.1. </a><a href="#name-the-delegation-point" class="section-name selfRef">The delegation point</a>
          </h4>
<p id="section-9.1.1-1">Legacy delegations are realized by a non-authoritative NS RRset at the name of the delegated zone, but in the delegating zone (the parent side of the zone cut).
However, there is another NS RRset by the same name, but now authoritative, in the delegated zone (the child side of the zone cut).
Some resolvers prefer to use the authoritative child side NS RRset (see <span><a href="https://rfc-editor.org/rfc/rfc2181#section-5.4.1" class="relref">Section 5.4.1</a> of [<a href="#RFC2181" class="cite xref">RFC2181</a>]</span>) for contacting the authoritative name servers of the delegated zone, and will use it to reach the zone if they encounter the child side NS RRset authoritatively in responses.
Some resolvers query explicitly for the authoritative child side NS RRset <span>[<a href="#I-D.ietf-dnsop-ns-revalidation" class="cite xref">I-D.ietf-dnsop-ns-revalidation</a>]</span>.
However, these NS RRsets can differ in content leading to errors and inconsistencies (see <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-dnsop-ns-revalidation-09#section-3" class="relref">Section 3</a> of [<a href="#I-D.ietf-dnsop-ns-revalidation" class="cite xref">I-D.ietf-dnsop-ns-revalidation</a>]</span>).<a href="#section-9.1.1-1" class="pilcrow">¶</a></p>
<p id="section-9.1.1-2">Incremental deleg eliminates these issues by placing the referral information, not at the name of the delegated zone, but authoritatively in the delegating zone.<a href="#section-9.1.1-2" class="pilcrow">¶</a></p>
<p id="section-9.1.1-3">Having the referral information at an authoritative location brings clarity.
There can be no misinterpretation about who is providing the referral (the delegating zone, or the delegated zone).
In a future world where all delegations would be incremental delegations, all names will only be authoritative data, derivable from the name, for resolvers and other applications alike.<a href="#section-9.1.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="legacy-referrals">
<section id="section-9.1.2">
          <h4 id="name-legacy-referrals">
<a href="#section-9.1.2" class="section-number selfRef">9.1.2. </a><a href="#name-legacy-referrals" class="section-name selfRef">Legacy referrals</a>
          </h4>
<p id="section-9.1.2-1">Resolvers that support only legacy referrals will be on the internet for the foreseeable future, therefore a legacy referral <span class="bcp14">MUST</span> always be provided alongside the incremental referral.<a href="#section-9.1.2-1" class="pilcrow">¶</a></p>
<p id="section-9.1.2-2">Legacy referrals can be deduced from the incremental delegation.
An authoritative name server could (in some cases) synthesize the legacy referral from the incremental delegation, however this is <span class="bcp14">NOT RECOMMENDED</span>.
It introduces an element of dynamism which is at the time of writing not part of authoritative name server behavior specification.
Moreover, authoritative name servers could transfer the zone data to non incremental deleg supporting and aware name servers, which would not have this feature.
We leave provisioning of legacy referrals from incremental delegations (for now) out of scope for this document.<a href="#section-9.1.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="number-of-queries">
<section id="section-9.1.3">
          <h4 id="name-number-of-queries">
<a href="#section-9.1.3" class="section-number selfRef">9.1.3. </a><a href="#name-number-of-queries" class="section-name selfRef">Number of queries</a>
          </h4>
<p id="section-9.1.3-1">Legacy resolvers that do not do DNS Query Name Minimisation, will get a referral in a single query.
The resolution process with incremental delegations must find the exact zone cut explicitly, comparable with DNS Query Name Minimisation.
The query increase to find the zone cut (and referral) is comparable to that of a resolver performing DNS Query Name minimisation.<a href="#section-9.1.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="comparison-with-name-dns-query-name-minimisation">
<section id="section-9.2">
        <h3 id="name-comparison-with-name-dns-qu">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-comparison-with-name-dns-qu" class="section-name selfRef">Comparison with Name DNS Query Name Minimisation</a>
        </h3>
<p id="section-9.2-1">There are no extra queries needed in most cases if the authoritative name server has incremental deleg support. The exception is when the parent zone is not signed and has no incremental deleg records.
In that case, one extra query is needed when the parent zone is first contacted (and every TTL)<a href="#section-9.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="comparison-with-i-dwesplaap-deleg">
<section id="section-9.3">
        <h3 id="name-comparison-with">
<a href="#section-9.3" class="section-number selfRef">9.3. </a><a href="#name-comparison-with" class="section-name selfRef">Comparison with <span class="cite xref">[I-D.wesplaap-deleg]</span></a>
        </h3>
<span id="name-comparison-of-i-dwesplaap-d"></span><table class="center" id="table-2">
          <caption>
<a href="#table-2" class="selfRef">Table 2</a>:
<a href="#name-comparison-of-i-dwesplaap-d" class="selfRef">Comparison of [I-D.wesplaap-deleg] with [this document]</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">[?I-D.wesplaap-deleg]</th>
              <th class="text-left" rowspan="1" colspan="1">[this document]</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Requires implementation in both authoritative name server as well as in the resolver, DNSSEC signers and validators and all other DNS software</td>
              <td class="text-left" rowspan="1" colspan="1">Only implementation required for functionalities following the delegations (like in resolvers). No support from the authoritative name server, DNSSEC signers and validators are needed. But optimized with updated authoritative software.</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">DELEG resolvers need to contact DELEG authoritatives directly</td>
              <td class="text-left" rowspan="1" colspan="1">IDELEG resolvers can query for the incremental delegation data, therefore direct contact with IDELEG supporting authoritatives is not necessary. All legacy infrastructure (including forwarders etc.) is supported.</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">DNSKEY flag needed to signal IDELEG support with all authoritative name servers that serve the parent (delegating) domain. Special requirements for the child domain.</td>
              <td class="text-left" rowspan="1" colspan="1">No DNSKEY flag needed. Separation of concerns.</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Authoritative name servers need to be updated all at once</td>
              <td class="text-left" rowspan="1" colspan="1">Authoritative name servers may be updated gradually for optimization</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">New semantics about what is authoritative (BOGUS with current DNSSEC validators)</td>
              <td class="text-left" rowspan="1" colspan="1">Works with current DNS and DNSSEC semantics. Easier to implement.</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">No extra queries</td>
              <td class="text-left" rowspan="1" colspan="1">One extra query, in parallel to the legacy query, <em>per authoritative</em> server when incremental deleg support is not yet detected, and one extra query <em>per unsigned zone</em> to determine presence of the <code>_deleg</code> label</td>
            </tr>
          </tbody>
        </table>
</section>
</div>
</section>
</div>
<div id="implementation-status">
<section id="section-10">
      <h2 id="name-implementation-status">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-implementation-status" class="section-name selfRef">Implementation Status</a>
      </h2>
<p id="section-10-1"><strong>Note to the RFC Editor</strong>: please remove this entire section before publication.<a href="#section-10-1" class="pilcrow">¶</a></p>
<p id="section-10-2">We are using RR type code 65280 for experiments.<a href="#section-10-2" class="pilcrow">¶</a></p>
<p id="section-10-3">Jesse van Zutphen has built a proof of concept implementation supporting incremental delegations as specified in a previous version of this document <span>[<a href="#I-D.homburg-deleg-incremental-deleg-00" class="cite xref">I-D.homburg-deleg-incremental-deleg-00</a>]</span> for the Unbound recursive resolver as part of his master thesis for the Security and Network Engineering master program of the University of Amsterdam <span>[<a href="#JZUTPHEN" class="cite xref">JZUTPHEN</a>]</span>.
Jesse's implementation has been adapted to query for the IDELEG RR types (with code point 65280).
This version is available in the <code>ideleg</code> branch of the <code>NLnetLabs/unbound</code> github repository <span>[<a href="#IDELEG4UNBOUND" class="cite xref">IDELEG4UNBOUND</a>]</span>.
Note that this implementation does not yet support <span><a href="#behavior-with-auth-support" class="internal xref">optimized behaviour</a> (<a href="#behavior-with-auth-support" class="auto internal xref">Section 5.2</a>)</span>, and also does not yet follow AliasMode IDELEG RRs.<a href="#section-10-3" class="pilcrow">¶</a></p>
<p id="section-10-4">The ldns DNS library and tools software has been extended with support for IDELEG, which is available in the <code>features/ideleg</code> branch of the <code>NLnetLabs/ldns</code> github repository <span>[<a href="#IDELEG4LDNS" class="cite xref">IDELEG4LDNS</a>]</span>.
This includes support for IDELEG in the DNS lookup utility <code>drill</code>, as well as in the DNSSEC zone signer <code>ldns-signzone</code> and all other tools and examples included with the ldns software.<a href="#section-10-4" class="pilcrow">¶</a></p>
<p id="section-10-5">Wouter Petri has built a proof of concept support for IDELEG in the NSD authoritative name server software as part of a research project for the Security and Network Engineering master program of the University of Amsterdam <span>[<a href="#WPETRI" class="cite xref">WPETRI</a>]</span>.
The source code of his implementation is available on github <span>[<a href="#IDELEG4NSD" class="cite xref">IDELEG4NSD</a>]</span>.<a href="#section-10-5" class="pilcrow">¶</a></p>
<p id="section-10-6">Wouter's implementation is serving the <code>ideleg.net.</code> domain, containing a variety of different incremental delegations, for evaluation purposes.
We are planning to provide information about the deployment, including what software to evaluate these delegations, at <a href="http://ideleg.net/">http://ideleg.net/</a>, hopefully before the <a href="https://datatracker.ietf.org/meeting/122/proceedings">IETF 122 in Bangkok</a>.<a href="#section-10-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-considerations">
<section id="section-11">
      <h2 id="name-security-considerations">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-11-1">Incremental deleg moves the location of  referral information to a unique  location that currently exists. However, as this is a new approach, thought must be given to usage.   There must be some checks to ensure that the registering a _deleg subdomain happens at the time the domain is provisioned. The same care needs to be addressed when a domain is de-provisioned that the _deleg is removed.  This is similar to what happens to A/AAAA glue records for NS records deployed in parent zones.<a href="#section-11-1" class="pilcrow">¶</a></p>
<p id="section-11-2">While the recommendation is to deploy DNSSEC with incremental deleg, it is not mandatory.  However, using incremental deleg with unsigned zones can create possibilities of domain hijackings. This could  be hard to detect when not speaking directly to the authoritative name server.
This risk of domain hijacking is not expected to increase significantly compared to the situation without incremental deleg.<a href="#section-11-2" class="pilcrow">¶</a></p>
<p id="section-11-3">There are bound to be other considerations.<a href="#section-11-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-12">
      <h2 id="name-iana-considerations">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<div id="deleg-rr-type">
<section id="section-12.1">
        <h3 id="name-ideleg-rr-type">
<a href="#section-12.1" class="section-number selfRef">12.1. </a><a href="#name-ideleg-rr-type" class="section-name selfRef">IDELEG RR type</a>
        </h3>
<p id="section-12.1-1">IANA is requested to update the "Resource Record (RR) TYPEs" registry under the "Domain Name System (DNS) Parameters" registry group as follows:<a href="#section-12.1-1" class="pilcrow">¶</a></p>
<table class="center" id="table-3">
          <caption><a href="#table-3" class="selfRef">Table 3</a></caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">TYPE</th>
              <th class="text-left" rowspan="1" colspan="1">Value</th>
              <th class="text-left" rowspan="1" colspan="1">Meaning</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">IDELEG</td>
              <td class="text-left" rowspan="1" colspan="1">TBD</td>
              <td class="text-left" rowspan="1" colspan="1">Delegation</td>
              <td class="text-left" rowspan="1" colspan="1">[this document]</td>
            </tr>
          </tbody>
        </table>
</section>
</div>
<div id="node-name">
<section id="section-12.2">
        <h3 id="name-_deleg-node-name">
<a href="#section-12.2" class="section-number selfRef">12.2. </a><a href="#name-_deleg-node-name" class="section-name selfRef">_deleg Node Name</a>
        </h3>
<p id="section-12.2-1">Per <span>[<a href="#RFC8552" class="cite xref">RFC8552</a>]</span>, IANA is requested to add the following entry to the DNS "Underscored and Globally Scoped DNS Node Names" registry:<a href="#section-12.2-1" class="pilcrow">¶</a></p>
<span id="name-entry-in-the-underscored-an"></span><table class="center" id="table-4">
          <caption>
<a href="#table-4" class="selfRef">Table 4</a>:
<a href="#name-entry-in-the-underscored-an" class="selfRef">Entry in the Underscored and Globally Scoped DNS Node Names registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">RR Type</th>
              <th class="text-left" rowspan="1" colspan="1">_NODE NAME</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">IDELEG</td>
              <td class="text-left" rowspan="1" colspan="1">_deleg</td>
              <td class="text-left" rowspan="1" colspan="1">[this document]</td>
            </tr>
          </tbody>
        </table>
</section>
</div>
</section>
</div>
<div id="sec-combined-references">
<section id="section-13">
      <h2 id="name-references">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<div id="sec-normative-references">
<section id="section-13.1">
        <h3 id="name-normative-references">
<a href="#section-13.1" class="section-number selfRef">13.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2181">[RFC2181]</dt>
        <dd>
<span class="refAuthor">Elz, R.</span> and <span class="refAuthor">R. Bush</span>, <span class="refTitle">"Clarifications to the DNS Specification"</span>, <span class="seriesInfo">RFC 2181</span>, <span class="seriesInfo">DOI 10.17487/RFC2181</span>, <time datetime="1997-07" class="refDate">July 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2181">https://www.rfc-editor.org/rfc/rfc2181</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3597">[RFC3597]</dt>
        <dd>
<span class="refAuthor">Gustafsson, A.</span>, <span class="refTitle">"Handling of Unknown DNS Resource Record (RR) Types"</span>, <span class="seriesInfo">RFC 3597</span>, <span class="seriesInfo">DOI 10.17487/RFC3597</span>, <time datetime="2003-09" class="refDate">September 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc3597">https://www.rfc-editor.org/rfc/rfc3597</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6672">[RFC6672]</dt>
        <dd>
<span class="refAuthor">Rose, S.</span> and <span class="refAuthor">W. Wijngaards</span>, <span class="refTitle">"DNAME Redirection in the DNS"</span>, <span class="seriesInfo">RFC 6672</span>, <span class="seriesInfo">DOI 10.17487/RFC6672</span>, <time datetime="2012-06" class="refDate">June 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6672">https://www.rfc-editor.org/rfc/rfc6672</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7858">[RFC7858]</dt>
        <dd>
<span class="refAuthor">Hu, Z.</span>, <span class="refAuthor">Zhu, L.</span>, <span class="refAuthor">Heidemann, J.</span>, <span class="refAuthor">Mankin, A.</span>, <span class="refAuthor">Wessels, D.</span>, and <span class="refAuthor">P. Hoffman</span>, <span class="refTitle">"Specification for DNS over Transport Layer Security (TLS)"</span>, <span class="seriesInfo">RFC 7858</span>, <span class="seriesInfo">DOI 10.17487/RFC7858</span>, <time datetime="2016-05" class="refDate">May 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7858">https://www.rfc-editor.org/rfc/rfc7858</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8484">[RFC8484]</dt>
        <dd>
<span class="refAuthor">Hoffman, P.</span> and <span class="refAuthor">P. McManus</span>, <span class="refTitle">"DNS Queries over HTTPS (DoH)"</span>, <span class="seriesInfo">RFC 8484</span>, <span class="seriesInfo">DOI 10.17487/RFC8484</span>, <time datetime="2018-10" class="refDate">October 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8484">https://www.rfc-editor.org/rfc/rfc8484</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8767">[RFC8767]</dt>
        <dd>
<span class="refAuthor">Lawrence, D.</span>, <span class="refAuthor">Kumari, W.</span>, and <span class="refAuthor">P. Sood</span>, <span class="refTitle">"Serving Stale Data to Improve DNS Resiliency"</span>, <span class="seriesInfo">RFC 8767</span>, <span class="seriesInfo">DOI 10.17487/RFC8767</span>, <time datetime="2020-03" class="refDate">March 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8767">https://www.rfc-editor.org/rfc/rfc8767</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9156">[RFC9156]</dt>
        <dd>
<span class="refAuthor">Bortzmeyer, S.</span>, <span class="refAuthor">Dolmans, R.</span>, and <span class="refAuthor">P. Hoffman</span>, <span class="refTitle">"DNS Query Name Minimisation to Improve Privacy"</span>, <span class="seriesInfo">RFC 9156</span>, <span class="seriesInfo">DOI 10.17487/RFC9156</span>, <time datetime="2021-11" class="refDate">November 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9156">https://www.rfc-editor.org/rfc/rfc9156</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9250">[RFC9250]</dt>
        <dd>
<span class="refAuthor">Huitema, C.</span>, <span class="refAuthor">Dickinson, S.</span>, and <span class="refAuthor">A. Mankin</span>, <span class="refTitle">"DNS over Dedicated QUIC Connections"</span>, <span class="seriesInfo">RFC 9250</span>, <span class="seriesInfo">DOI 10.17487/RFC9250</span>, <time datetime="2022-05" class="refDate">May 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9250">https://www.rfc-editor.org/rfc/rfc9250</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9460">[RFC9460]</dt>
        <dd>
<span class="refAuthor">Schwartz, B.</span>, <span class="refAuthor">Bishop, M.</span>, and <span class="refAuthor">E. Nygren</span>, <span class="refTitle">"Service Binding and Parameter Specification via the DNS (SVCB and HTTPS Resource Records)"</span>, <span class="seriesInfo">RFC 9460</span>, <span class="seriesInfo">DOI 10.17487/RFC9460</span>, <time datetime="2023-11" class="refDate">November 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9460">https://www.rfc-editor.org/rfc/rfc9460</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9461">[RFC9461]</dt>
        <dd>
<span class="refAuthor">Schwartz, B.</span>, <span class="refTitle">"Service Binding Mapping for DNS Servers"</span>, <span class="seriesInfo">RFC 9461</span>, <span class="seriesInfo">DOI 10.17487/RFC9461</span>, <time datetime="2023-11" class="refDate">November 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9461">https://www.rfc-editor.org/rfc/rfc9461</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="STD13">[STD13]</dt>
      <dd>
<div class="refInstance">Internet Standard 13, <span>&lt;<a href="https://www.rfc-editor.org/info/std13">https://www.rfc-editor.org/info/std13</a>&gt;</span>.<br><span>At the time of writing, this STD comprises the following:</span>
</div>
<div class="refInstance" id="RFC1034">
            <span class="refAuthor">Mockapetris, P.</span>, <span class="refTitle">"Domain names - concepts and facilities"</span>, <span class="seriesInfo">STD 13</span>, <span class="seriesInfo">RFC 1034</span>, <span class="seriesInfo">DOI 10.17487/RFC1034</span>, <time datetime="1987-11" class="refDate">November 1987</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1034">https://www.rfc-editor.org/info/rfc1034</a>&gt;</span>. </div>
<div class="refInstance" id="RFC1035">
            <span class="refAuthor">Mockapetris, P.</span>, <span class="refTitle">"Domain names - implementation and specification"</span>, <span class="seriesInfo">STD 13</span>, <span class="seriesInfo">RFC 1035</span>, <span class="seriesInfo">DOI 10.17487/RFC1035</span>, <time datetime="1987-11" class="refDate">November 1987</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1035">https://www.rfc-editor.org/info/rfc1035</a>&gt;</span>. </div>
</dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec-informative-references">
<section id="section-13.2">
        <h3 id="name-informative-references">
<a href="#section-13.2" class="section-number selfRef">13.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="BCP219">[BCP219]</dt>
        <dd>
<div class="refInstance">Best Current Practice 219, <span>&lt;<a href="https://www.rfc-editor.org/info/bcp219">https://www.rfc-editor.org/info/bcp219</a>&gt;</span>.<br><span>At the time of writing, this BCP comprises the following:</span>
</div>
<div class="refInstance" id="RFC9499">
            <span class="refAuthor">Hoffman, P.</span> and <span class="refAuthor">K. Fujiwara</span>, <span class="refTitle">"DNS Terminology"</span>, <span class="seriesInfo">BCP 219</span>, <span class="seriesInfo">RFC 9499</span>, <span class="seriesInfo">DOI 10.17487/RFC9499</span>, <time datetime="2024-03" class="refDate">March 2024</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9499">https://www.rfc-editor.org/info/rfc9499</a>&gt;</span>. </div>
</dd>
<dd class="break"></dd>
<dt id="I-D.homburg-deleg-incremental-deleg-00">[I-D.homburg-deleg-incremental-deleg-00]</dt>
        <dd>
<span class="refAuthor">Homburg, P.</span>, <span class="refAuthor">van Zutphen, J.</span>, and <span class="refAuthor">W. Toorop</span>, <span class="refTitle">"Incrementally Deployable Extensible Delegation for DNS"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-homburg-deleg-incremental-deleg-00</span>, <time datetime="2024-07-08" class="refDate">8 July 2024</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-homburg-deleg-incremental-deleg-00">https://datatracker.ietf.org/doc/html/draft-homburg-deleg-incremental-deleg-00</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.homburg-deleg-incremental-dnssec">[I-D.homburg-deleg-incremental-dnssec]</dt>
        <dd>
<span class="refAuthor">Homburg, P.</span> and <span class="refAuthor">W. Toorop</span>, <span class="refTitle">"Incrementally Deployable DNSSEC Delegation"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-homburg-deleg-incremental-dnssec-00</span>, <time datetime="2025-01-16" class="refDate">16 January 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-homburg-deleg-incremental-dnssec-00">https://datatracker.ietf.org/doc/html/draft-homburg-deleg-incremental-dnssec-00</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-deleg-requirements-02">[I-D.ietf-deleg-requirements-02]</dt>
        <dd>
<span class="refAuthor">Lawrence</span>, <span class="refAuthor">Lewis, E.</span>, <span class="refAuthor">Reid, J.</span>, and <span class="refAuthor">T. Wicinski</span>, <span class="refTitle">"Problem Statement and Requirements for an Improved DNS Delegation Mechanism abbrev: DNS DELEG Requirements"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-deleg-requirements-02</span>, <time datetime="2024-10-12" class="refDate">12 October 2024</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-deleg-requirements-02">https://datatracker.ietf.org/doc/html/draft-ietf-deleg-requirements-02</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-dnsop-ns-revalidation">[I-D.ietf-dnsop-ns-revalidation]</dt>
        <dd>
<span class="refAuthor">Huque, S.</span>, <span class="refAuthor">Vixie, P. A.</span>, and <span class="refAuthor">W. Toorop</span>, <span class="refTitle">"Delegation Revalidation by DNS Resolvers"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-dnsop-ns-revalidation-09</span>, <time datetime="2025-02-27" class="refDate">27 February 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-dnsop-ns-revalidation-09">https://datatracker.ietf.org/doc/html/draft-ietf-dnsop-ns-revalidation-09</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-tls-esni">[I-D.ietf-tls-esni]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refAuthor">Oku, K.</span>, <span class="refAuthor">Sullivan, N.</span>, and <span class="refAuthor">C. A. Wood</span>, <span class="refTitle">"TLS Encrypted Client Hello"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-tls-esni-23</span>, <time datetime="2025-02-19" class="refDate">19 February 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-tls-esni-23">https://datatracker.ietf.org/doc/html/draft-ietf-tls-esni-23</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.tapril-ns2">[I-D.tapril-ns2]</dt>
        <dd>
<span class="refAuthor">April, T.</span>, <span class="refTitle">"Parameterized Nameserver Delegation with NS2 and NS2T"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-tapril-ns2-01</span>, <time datetime="2020-07-13" class="refDate">13 July 2020</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-tapril-ns2-01">https://datatracker.ietf.org/doc/html/draft-tapril-ns2-01</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.wesplaap-deleg">[I-D.wesplaap-deleg]</dt>
        <dd>
<span class="refAuthor">April, T.</span>, <span class="refAuthor">Špaček, P.</span>, <span class="refAuthor">Weber, R.</span>, and <span class="refAuthor">Lawrence</span>, <span class="refTitle">"Extensible Delegation for DNS"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-wesplaap-deleg-02</span>, <time datetime="2025-02-18" class="refDate">18 February 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-wesplaap-deleg-02">https://datatracker.ietf.org/doc/html/draft-wesplaap-deleg-02</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IDELEG4LDNS">[IDELEG4LDNS]</dt>
        <dd>
<span class="refAuthor">Toorop, W.</span>, <span class="refTitle">"A proof of concept support for IDELEG in the ldns DNS library and tools"</span>, <span>n.d.</span>, <span>&lt;<a href="https://github.com/NLnetLabs/ldns/tree/features/ideleg">https://github.com/NLnetLabs/ldns/tree/features/ideleg</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IDELEG4NSD">[IDELEG4NSD]</dt>
        <dd>
<span class="refAuthor">Petri, W.</span>, <span class="refTitle">"A proof of concept support for IDELEG in the NSD authoritative name server software"</span>, <span>n.d.</span>, <span>&lt;<a href="https://github.com/WP-Official/nsd">https://github.com/WP-Official/nsd</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IDELEG4UNBOUND">[IDELEG4UNBOUND]</dt>
        <dd>
<span class="refAuthor">van Zutphen, J.</span> and <span class="refAuthor">P. Homburg</span>, <span class="refTitle">"A proof of concept implementation of incremental deleg"</span>, <span>n.d.</span>, <span>&lt;<a href="https://github.com/NLnetLabs/unbound/tree/ideleg">https://github.com/NLnetLabs/unbound/tree/ideleg</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="JZUTPHEN">[JZUTPHEN]</dt>
        <dd>
<span class="refAuthor">van Zutphen, J.</span>, <span class="refTitle">"Extensible delegations in DNS Recursive resolvers"</span>, <span>n.d.</span>, <span>&lt;<a href="https://nlnetlabs.nl/downloads/publications/extensible-deleg-in-resolvers_2024-07-08.pdf">https://nlnetlabs.nl/downloads/publications/extensible-deleg-in-resolvers_2024-07-08.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8552">[RFC8552]</dt>
        <dd>
<span class="refAuthor">Crocker, D.</span>, <span class="refTitle">"Scoped Interpretation of DNS Resource Records through "Underscored" Naming of Attribute Leaves"</span>, <span class="seriesInfo">BCP 222</span>, <span class="seriesInfo">RFC 8552</span>, <span class="seriesInfo">DOI 10.17487/RFC8552</span>, <time datetime="2019-03" class="refDate">March 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8552">https://www.rfc-editor.org/rfc/rfc8552</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="WPETRI">[WPETRI]</dt>
      <dd>
<span class="refAuthor">Petri, W.</span>, <span class="refTitle">"Extensible delegations in authoritative nameservers"</span>, <span>n.d.</span>, <span>&lt;<a href="https://nlnetlabs.nl/downloads/publications/extensible-delegations-in-authoritative-nameservers_2025-02-09.pdf">https://nlnetlabs.nl/downloads/publications/extensible-delegations-in-authoritative-nameservers_2025-02-09.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="acknowledgments">
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">The idea to utilize SVCB based RRs to signal capabilities was first proposed by Tim April in <span>[<a href="#I-D.tapril-ns2" class="cite xref">I-D.tapril-ns2</a>]</span>.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<p id="appendix-A-2">The idea to utilize SVCB for extensible delegations (and also the idea described in this document) emerged from the DNS Hackathon at the IETF 118.
The following participants contributed to this brainstorm session: Vandan Adhvaryu, Roy Arends, David Blacka, Manu Bretelle, Vladimír Čunát, Klaus Darilion, Peter van Dijk, Christian Elmerot, Bob Halley, Philip Homburg, Shumon Huque, Shane Kerr, David C Lawrence, Edward Lewis, George Michaelson, Erik Nygren, Libor Peltan, Ben Schwartz, Petr Špaček, Jan Včelák and Ralf Weber<a href="#appendix-A-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Philip Homburg</span></div>
<div dir="auto" class="left"><span class="org">NLnet Labs</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:philip@nlnetlabs.nl" class="email">philip@nlnetlabs.nl</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Tim Wicinski</span></div>
<div dir="auto" class="left"><span class="org">Cox Communications</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:tjw.ietf@gmail.com" class="email">tjw.ietf@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jesse van Zutphen</span></div>
<div dir="auto" class="left"><span class="org">University of Amsterdam</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:Jesse.vanZutphen@os3.nl" class="email">Jesse.vanZutphen@os3.nl</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Willem Toorop</span></div>
<div dir="auto" class="left"><span class="org">NLnet Labs</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:willem@nlnetlabs.nl" class="email">willem@nlnetlabs.nl</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
